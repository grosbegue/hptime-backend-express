(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a(206)},112:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},189:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),c=a.n(l),o=a(70),s=(a(112),a(2)),i=a(5),u=a(4),m=a(7),p=a(6),d=a(8),h=a(99),f=a(53),g=a(25),E=a(56),b=a.n(E),y=a(44),v=a.n(y),N=a(33),x=a.n(N),O=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement(v.a,{bg:"white",variant:"light",expand:"sm",fixed:"top",collapseOnSelect:"true"},r.a.createElement(g.LinkContainer,{to:"/"},r.a.createElement(v.a.Brand,null," ","Med",r.a.createElement("b",null,"Direct"))),r.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(x.a,{className:"mr-auto"},this.props.currentUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.LinkContainer,{to:"/map"},r.a.createElement(x.a.Link,null,"Map")),r.a.createElement(g.LinkContainer,{to:"/#"},r.a.createElement(x.a.Link,null,"Dashboard")),r.a.createElement(g.LinkContainer,{to:"/signup"},r.a.createElement(x.a.Link,{onClick:function(){return e.props.logoutClick()}},"Log Out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.LinkContainer,{to:"/signup"},r.a.createElement(x.a.Link,null,"S'enregistrer")),r.a.createElement(g.LinkContainer,{to:"/login"},r.a.createElement(x.a.Link,null,"Se connecter")))))))}}]),t}(n.Component),k=a(3),j=a(39),C=a.n(j),S=a(18),w=a.n(S),P=(a(135),a(16)),I=(a(136),P.a.section({open:{transition:{ease:"easeOut",duration:0},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:0}})),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isOpen:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({isOpen:!e.state.isVisible})},0)}},{key:"render",value:function(){var e=this.state.isOpen;return r.a.createElement(I,{pose:e?"open":"closed"},r.a.createElement("a",{href:"tel:15",className:"float bg-danger text-white rounded-circle"},r.a.createElement("i",{className:"fa fa-phone my-float fa-sm","aria-hidden":"true"})," ",r.a.createElement("span",{className:"dial-text"},"15")))}}]),t}(n.Component),T=P.a.section({open:{transition:{ease:"easeInOut",duration:1400},x:0,delayChildren:0,staggerChildren:200,opacity:1,delay:0},closed:{x:10,delay:0,opacity:0}}),A=P.a.div({open:{transition:{ease:"easeOut",duration:1400},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:20}}),L=P.a.h1({open:{transition:{ease:"easeOut",duration:2e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:30}}),z=P.a.p({open:{transition:{ease:"easeOut",duration:2e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:0}}),U=P.a.footer({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:40}}),M=P.a.div({open:{transition:{ease:"easeOut",duration:1500},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:400}}),B=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e,a))).state={show:!1,open:!1},n.handleShow=n.handleShow.bind(Object(k.a)(n)),n.handleClose=n.handleClose.bind(Object(k.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this.state.isOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{pose:e?"open":"closed",className:"bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8  order-first text-center order-md-1"},r.a.createElement(A,null,r.a.createElement("img",{src:"/images/illustrations/medicine.svg",alt:"Illustration calme et apaisante de deux docteurs dans un hopital",className:"img-fluid"}))),r.a.createElement("div",{className:"col-lg-4 py-4 pr-0"},r.a.createElement(L,{className:"display-3 pt-4"},r.a.createElement("span",{className:"text-primary font-weight-bold"},"Med"),r.a.createElement("span",{className:"text-muted font-weight-light"},"Direct")),r.a.createElement(z,{className:"lead mb-3"},"MedDirect vous aide a trouver les meilleurs soins d'urgence adapt\xe9s \xe0 vos besoins."),r.a.createElement(z,{className:"text-muted"},"Estimez les temps d'attente dans les centres de soins \xe0 proximit\xe9 et trouvez des alternatives sans attendre!"),r.a.createElement(M,null,r.a.createElement(w.a,{variant:"primary",size:"lg",className:"mt-3",onClick:this.handleShow},"Commencer"))))),r.a.createElement(U,{className:"bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"small text-muted p-5"},"Done with love by Christina Bailey, Christophe Begue, Thomas Lesage, Samuel Bouaroua, and Raphael Veil."))))),r.a.createElement(D,null),r.a.createElement(C.a,{centered:!0,show:this.state.show,onHide:this.handleClose},r.a.createElement(C.a.Header,null,r.a.createElement(C.a.Title,{id:"contained-modal-title-vcenter"},r.a.createElement("a",{href:"#collapse",className:"font-weight-bold","data-toggle":"collapse"}," ","Urgence vitale? ",r.a.createElement("i",{className:"fas fa-info-circle"})),r.a.createElement("div",{id:"collapse",className:"collapse"},r.a.createElement("ul",null,r.a.createElement("li",{className:"font-weight-normal h6"},"Une perte de connaissance"),r.a.createElement("li",{className:"font-weight-normal h6"},"Des troubles neurologiques (paralysie d\u2019un membre, ou soudaine faiblesse musculaire, troubles de la parole ou de la vision)"),r.a.createElement("li",{className:"font-weight-normal h6"},"Des douleurs thoraciques ou violentes douleurs d\u2019apparition brutale"),r.a.createElement("li",{className:"font-weight-normal h6"},"Des difficult\xe9s respiratoires (\xe9touffe, suffoque) : respiration rapide, bruyante"),r.a.createElement("li",{className:"font-weight-normal h6"},"Un saignement important"),r.a.createElement("li",{className:"font-weight-normal h6"},"Un violent traumatisme (accident, plaie)"),r.a.createElement("li",{className:"font-weight-normal h6"},"Une br\xfblure de la face ou \xe9tendue"))))),r.a.createElement(C.a.Body,null,r.a.createElement("p",null,"Si vous pensez ne pas \xeatre dans une urgence vitale, appellez le SAMU, sinon merci de ",r.a.createElement("b",null,"cliquer sur Continuer."))),r.a.createElement(C.a.Footer,null,r.a.createElement("a",{href:"tel:15"},r.a.createElement(w.a,{variant:"danger"},r.a.createElement("i",{className:"fas fa-phone"})," Appeller le SAMU (15)")),r.a.createElement(g.LinkContainer,{to:"/form"},r.a.createElement(w.a,{variant:"primary"},r.a.createElement("i",{className:"fas fa-arrow-right"})," Continuer")))))}}]),t}(n.PureComponent),H=a(28),R=a.n(H),q=a(29),G=a(45),V="M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z",F={cursor:"pointer",fill:"##7c8389",stroke:"none",opacity:.5,size:20},J={cursor:"pointer",fill:"#ef6c60",stroke:"none",opacity:1,size:35},_={cursor:"pointer",fill:"#7c8389",stroke:"none",opacity:.5,size:20},X={cursor:"pointer",fill:"#65b4c1",stroke:"none",opacity:1,size:35},Q=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.onClick,t=this.props.oneItem.group,a=this.props.oneItem.filtered;return t&&a?r.a.createElement("div",null,r.a.createElement("svg",{version:"1.1",id:"Calque_1",x:"0px",y:"0px",viewBox:"0 0 384 512",enableBackground:"new 0 0 384 512",height:J.size,style:Object(G.a)({},J,{transform:"translate(".concat(-J.size/2,"px,").concat(-J.size,"px)")}),onClick:e},r.a.createElement("path",{d:"M192,0C86,0,0,86,0,192c0,77.4,27,99,172.3,309.7c9.5,13.8,29.9,13.8,39.5,0C357,291,384,269.4,384,192 C384,86,298,0,192,0z M264,286h-39.8v-68.9h-64.3V286H120V121.1h39.8v62.4h64.3v-62.4H264V286z"}))):t&&!a?r.a.createElement("div",null,r.a.createElement("svg",{height:F.size,viewBox:"0 0 24 24",style:Object(G.a)({},F,{transform:"translate(".concat(-F.size/2,"px,").concat(-F.size,"px)")}),onClick:e},r.a.createElement("path",{d:V}))):!t&&a?r.a.createElement("div",null,r.a.createElement("svg",{version:"1.1",id:"Calque_1",x:"0px",y:"0px",viewBox:"0 0 384 512",enableBackground:"new 0 0 384 512",height:X.size,style:Object(G.a)({},X,{transform:"translate(".concat(-X.size/2,"px,").concat(-X.size,"px)")}),onClick:e},r.a.createElement("path",{d:"M192,0C86,0,0,86,0,192c0,77.4,27,99,172.3,309.7c9.5,13.8,29.9,13.8,39.5,0C357,291,384,269.4,384,192 C384,86,298,0,192,0z M239.1,283.1c-10.7,4.9-23.1,7.3-37,7.3c-12.7,0-24.5-2.1-35.3-6.3c-10.8-4.2-20.1-10.1-28.1-17.8 c-7.9-7.7-14.1-16.9-18.6-27.6c-4.5-10.7-6.8-22.5-6.8-35.4c0-13.2,2.3-25.2,6.9-35.9c4.6-10.7,10.9-19.8,19-27.4 c8.1-7.5,17.5-13.3,28.4-17.3c10.9-4,22.6-6.1,35.2-6.1c11.6,0,23.1,2.1,34.3,6.2c11.3,4.1,20.4,10.1,27.4,18l-27,27 c-3.7-5.1-8.6-8.9-14.7-11.4c-6.1-2.5-12.3-3.7-18.6-3.7c-7,0-13.4,1.3-19.2,3.8c-5.8,2.6-10.8,6.1-15,10.6c-4.2,4.5-7.5,9.8-9.8,16 c-2.3,6.1-3.5,12.8-3.5,20.1c0,7.5,1.2,14.3,3.5,20.5c2.3,6.2,5.5,11.5,9.7,16c4.1,4.4,9,7.9,14.8,10.4c5.7,2.5,12,3.7,18.9,3.7 c7.9,0,14.8-1.5,20.7-4.7c5.9-3.1,10.6-7.1,14.2-12.1l27.7,26.1C258.8,271.6,249.8,278.2,239.1,283.1z"}))):r.a.createElement("div",null,r.a.createElement("svg",{height:_.size,viewBox:"0 0 24 24",style:Object(G.a)({},_,{transform:"translate(".concat(-_.size/2,"px,").concat(-_.size,"px)")}),onClick:e},r.a.createElement("path",{d:V})))}}]),t}(n.PureComponent),Z=(a(180),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dot",style:{cursor:"pointer",transform:"translate(".concat(-10,"px,").concat(-10,"px)")}},r.a.createElement("div",{className:"centraldot"}),r.a.createElement("div",{className:"wave"}),r.a.createElement("div",{className:"wave2"}))}}]),t}(n.PureComponent)),K=(a(181),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.popupInfo;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(q.c,{className:"PopUp",longitude:e.longitude,latitude:e.latitude,closeOnClick:!1,anchor:"top",onClose:this.props.onCloseClick},r.a.createElement("p",{className:"card-text small"}," ",r.a.createElement("b",null,e.name)),r.a.createElement("p",{className:"card-text small"},r.a.createElement("a",{href:"tel:+33{popupInfo.phoneNumber}"},e.phoneNumber)),r.a.createElement("p",{className:"card-text small"},e.streetNumber," ",e.roadType," ",e.streetName,r.a.createElement("br",null),e.zipCode," ",e.city),r.a.createElement("a",{href:"http://maps.google.com/?q=".concat(e.latitude,",").concat(e.longitude),className:"card-link small"},"Route Me"),r.a.createElement("a",{href:"".concat(e.urlToPlan),className:"card-link small"},"Access Plan"," "))))}}]),t}(n.Component)),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderMapAndMarkers=function(){return a.props.structureArray.map(function(e,t){return r.a.createElement(q.b,{key:"marker-".concat(t),longitude:e.longitude,latitude:e.latitude},r.a.createElement(Q,{structureArray:a.props.structureArray,oneItem:e,onClick:function(){return a.setState({popupInfo:e})}}))})},a.clearPopup=function(){a.setState({popupInfo:null})},a._onViewportChange=function(e){a.setState({viewport:e})},a.renderPopup=function(){var e=a.state.popupInfo;return e&&r.a.createElement(K,{popupInfo:e,onCloseClick:function(){return a.clearPopup()}})},a.renderUserMarker=function(e){if(e)return r.a.createElement(q.b,{latitude:e.latitude,longitude:e.longitude},r.a.createElement(Z,null))},a._goToViewport=function(e){var t=e.longitude,n=e.latitude;a._onViewportChange({longitude:t,latitude:n,zoom:12,pitch:45,bearing:-17.6,transitionInterpolator:new q.a,transitionDuration:2500})},a.state={hospitalArray:[],structureArray:[],altStructure:[],newstructureArray:[],viewport:{latitude:48.85341,longitude:2.3488,zoom:10,pitch:45,bearing:-17.6},popupInfo:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=e.props.userLocation;e._goToViewport(t)},2500)}},{key:"render",value:function(){var e=this.state.viewport,t=this.props.userLocation;return r.a.createElement(q.d,Object.assign({},e,{mapboxApiAccessToken:"pk.eyJ1IjoicHJvamVjdDNpcm9uaGFjayIsImEiOiJjanNpdzA4aXcxemloNDRueDBkaXlkZDh0In0.bbNCzs-0njORLSHu9bXeDQ",mapStyle:"mapbox://styles/project3ironhack/cjsk4xibk5rjh1fmqo9k31hym",width:"100%",height:window.innerWidth<767?window.innerHeight-400:window.innerHeight-56,onViewportChange:this._onViewportChange}),this.renderUserMarker(t),this.renderMapAndMarkers(),this.renderPopup())}}]),t}(n.Component),Y=a(32),$=a.n(Y),ee=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"clickHandler",value:function(e){this.props.updatePatient(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"px-2 bg-light"},r.a.createElement($.a.Control,{name:"neededSpecialist",onChange:function(t){return e.clickHandler(t)},as:"select"},r.a.createElement("option",null,"S\xe9lectionnez une sp\xe9cialit\xe9."),r.a.createElement("option",{value:"Ophtalmologiques"},"Ophtalmologiques"),r.a.createElement("option",{value:"Oto-rhino-laryngologiques"},"Oto-rhino-laryngologiques"),r.a.createElement("option",{value:"Dentaires"},"Dentaires"),r.a.createElement("option",{value:"Oto-rhino-laryngologiques"},"Oto-rhino-laryngologiques"),r.a.createElement("option",{value:"Plaies de la main"},"Plaies de la main"),r.a.createElement("option",{value:"G\xe9n\xe9rales"},"G\xe9n\xe9rales"),r.a.createElement("option",{value:"Gyn\xe9co-obst\xe9tricales"},"Gyn\xe9co-obst\xe9tricales"),r.a.createElement("option",{value:"Proctology"},"Proctology"),r.a.createElement("option",{value:"Psychiatriques"},"Psychiatriques")),r.a.createElement("div",{className:"card-header"}))}}]),t}(n.Component),te=(a(189),a(41)),ae=a(42),ne=a.n(ae),re=a(22),le=a.n(re),ce=a(21),oe=a.n(ce),se=a(103),ie=a.n(se),ue=a(100),me=a(23),pe=a.n(me),de=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.structureItem;return console.log(this.props.emptyOneStructure),r.a.createElement(oe.a,{sm:{span:12}},r.a.createElement(te.a,{to:"#retour",className:"text-secondary",onClick:this.props.emptyOneStructure},r.a.createElement("i",{className:"fas fa-arrow-left mx-2"}),"Retour"),r.a.createElement(pe.a,null,r.a.createElement(pe.a.Body,null,r.a.createElement(pe.a.Title,null,e.name),r.a.createElement(pe.a.Subtitle,{className:"mb-2 text-muted"},e.type),r.a.createElement("address",{className:"d-block p-2 bg-light"},r.a.createElement("p",{className:"text-muted"},e.streetNumber," ",e.roadType," ",e.streetName," - ",e.city,","," ",e.zipCode),r.a.createElement(pe.a.Link,{href:"tel:+33{structureItem.phoneNumber}"},e.phoneNumber)))))}}]),t}(n.Component),he="pk.eyJ1IjoicHJvamVjdDNpcm9uaGFjayIsImEiOiJjanNpdzA4aXcxemloNDRueDBkaXlkZDh0In0.bbNCzs-0njORLSHu9bXeDQ",fe=R.a.create({baseURL:"",withCredentials:!0});function ge(e){throw e.response&&e.response.data?console.log("API Error",e.response.data):console.log("React Code Error",e),alert("Sorry! Something went wrong."),e}function Ee(e,t){return fe.get("/api/alternatives-structures/near?latitude=".concat(e,"&longitude=").concat(t,"&radius=50000"))}var be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(ue.a,{to:"/"})},a.showStructureDetail=function(e){console.log(e),a.setState({oneStructureDetail:e})},a.emptyOneStructure=function(){a.setState({oneStructureDetail:null})},a.state={open:!0,hospitalArray:[],altStructure:[],newstructureArray:[],structureArray:[],redirect:!1,oneStructureDetail:null,isStructureOpen:!0,openingHours:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateStructure()}},{key:"componentDidUpdate",value:function(e){e.neededSpecialist!==this.props.neededSpecialist&&this.updateStructure()}},{key:"updateStructure",value:function(){var e,t,a=this,n=this.props.userLocation;n&&R.a.all([(e=n.latitude,t=n.longitude,fe.get("/api/hospitals/near?latitude=".concat(e,"&longitude=").concat(t,"&radius=50000"))),Ee(n.latitude,n.longitude)]).then(R.a.spread(function(e,t){var r=a.props,l=r.neededSpecialist,c=r.patientType,o=e.data||[],s=t.data||[],i=0;for(i=0;i<=10;i++)s[i].filtered=!0;var u=s.slice(0,10),m=o.filter(function(e){return e.isHospital=!0,e.availablePoles?(e.filtered=e.availablePoles.some(function(e){return e.pathology===l&&(e.patientType===c||"Universel"===e.patientType)}),e.filtered):""}),p=u.concat(m).slice(0,20),d=p.filter(function(e){return!e.duration}).map(function(e){return(t=n.longitude,a=n.latitude,r=e.longitude,l=e.latitude,R.a.get("https://api.mapbox.com/directions-matrix/v1/mapbox/walking/".concat(t,",").concat(a,";").concat(r,",").concat(l,"?sources=1&annotations=distance,duration&access_token=").concat(he))).then(function(t){e.duration=Math.round(t.data.durations[0][0]/60+function(e){var t=(new Date).getHours(),a={1:45,2:40,3:35,4:30,5:25,6:20,7:30,8:40,9:40,10:45,11:45,12:35,13:35,14:30,15:25,16:30,17:40,18:45,19:50,20:60,21:50,22:50,23:50};return e.isHospital?a[t]+30:a[t]}(e))});var t,a,r,l});R.a.all(d).then(function(){p.sort(function(e,t){return e.duration-t.duration}),console.log(p),a.setState({newstructureArray:p})}).catch(ge);var h=o.concat(s);a.setState({structureArray:h,hospitalArray:o,altStructure:s,newstructureArray:p})})).catch(function(){ie.a.fire({position:"center",type:"info",title:"Merci de remplir le questionnaire pour afficher des r\xe9sultats pertinents.",showConfirmButton:!0,timer:4500}),a.setState({isSubmitSuccessful:!0})})}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,a=t.newstructureArray,n=t.open,l=t.redirect,c=t.oneStructureDetail;return l?r.a.createElement(ue.a,{to:"/"}):r.a.createElement(le.a,{className:"no-gutters"},r.a.createElement(oe.a,{sm:{span:12,order:2},md:{span:4,order:2},id:"map-filter"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"accordion"},r.a.createElement("div",{className:"card border-bottom-0"},r.a.createElement("div",{className:"card-header border-bottom-0",id:"headingOne"}))),r.a.createElement(de,{structureItem:this.state.oneStructureDetail,emptyOneStructure:this.emptyOneStructure})):r.a.createElement("div",{id:"accordion"},r.a.createElement("div",{className:"card border-bottom-0"},r.a.createElement("div",{className:"card-header border-bottom-0",id:"headingOne"},n?r.a.createElement(w.a,{variant:"primary",size:"lg",block:!0,className:"d-md-none",onClick:function(){return e.setState({open:!n})},"aria-controls":"example-collapse-text","aria-expanded":n},r.a.createElement("p",{className:"clollapsBtnText"},"Carte seulement")):r.a.createElement(w.a,{variant:"outline-primary",size:"lg",block:!0,className:"d-md-none",onClick:function(){return e.setState({open:!n})},"aria-controls":"example-collapse-text","aria-expanded":n},r.a.createElement("p",{className:"clollapsBtnText"},"Carte et propositions"))),r.a.createElement(ee,{updatePatient:function(t){return e.props.updatePatient(t)}}),r.a.createElement(ne.a,{in:this.state.open,className:"dimension",id:"example-collapse-text"},r.a.createElement("div",{"aria-labelledby":"headingOne","data-parent":"#accordion"},r.a.createElement("table",{className:"table table-sm table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"font-weight-normal w-50"},"Pertinence"),r.a.createElement("th",{className:"text-center font-weight-normal"},r.a.createElement("span",null,"Distance",r.a.createElement("i",{className:"fas fa-walking fa-sm ml-2"}))),r.a.createElement("th",{className:"text-center font-weight-normal"},"Details",r.a.createElement("i",{className:"fas fa-info fa-xs mb-1 ml-2"})))),r.a.createElement("tbody",{id:"filtered-results"},a.map(function(t,a){return r.a.createElement("tr",{key:a,className:"border border-black border-bottom"},r.a.createElement("td",null,r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item border-0"},r.a.createElement("div",{className:"row d-flex align-items-center"},r.a.createElement("div",{className:"col-lg-2"},t.shortname?r.a.createElement("span",{className:"fa-stack fa-2x small mr-2"},r.a.createElement("i",{className:"fas fa-circle fa-stack-2x text-primary"}),r.a.createElement("i",{className:"fas fa-stack-1x text-white text-structure"},"C")):r.a.createElement("span",{className:"fa-stack fa-2x small"},r.a.createElement("i",{className:"fas fa-square fa-stack-2x text-danger"}),r.a.createElement("i",{className:"fas fa-stack-1x text-structure text-white"},"H"))),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("span",{className:"text-muted"},t.name," ",r.a.createElement("br",null),r.a.createElement("a",{href:"tel:+33{popupInfo.phoneNumber}",className:"small text-muted"},t.phoneNumber))))))),r.a.createElement("td",{className:"text-center align-middle"},r.a.createElement("ul",{className:"list-group list-unstyled"},r.a.createElement("li",null,r.a.createElement("span",{className:"badge badge-light"},t.duration," min")))),r.a.createElement("td",{className:"text-center align-middle"},r.a.createElement(te.a,{to:"#0",onClick:e.showStructureDetail.bind(e,t),className:"text-muted"},"voir")))})))))))),r.a.createElement(oe.a,{sm:{span:12,order:2},md:{span:8,order:2}},r.a.createElement(W,{hospitalArray:this.state.hospitalArray,altStructure:this.state.altStructure,newstructureArray:this.state.newstructureArray,structureArray:this.state.structureArray,userLocation:this.props.userLocation})),r.a.createElement(D,null))}}]),t}(n.Component),ye=(a(191),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"NotFound"},r.a.createElement("h2",null,"404 Not Found"),r.a.createElement("p",null,"The page you are looking for is not available."))}}]),t}(n.Component)),ve=(a(192),a(98),a(104)),Ne=a.n(ve),xe=(a(193),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:!this.state.isVisible})}},{key:"clickHandler",value:function(e){this.props.updatePatient(e),this.props.nextStep()}},{key:"render",value:function(){var e=this;return console.log(this.props.index),r.a.createElement("div",{className:"card flex-row m-3 bg-white",key:this.props.index},r.a.createElement("div",{className:"col-4 card-header bg-light p-2"},r.a.createElement("img",{src:this.props.picture,alt:this.props.bodyPart,className:"picto d-block mx-auto"})),r.a.createElement("div",{className:" col-8 w-100 px-2 d-flex flex-column justify-content-between"},r.a.createElement("div",{className:"w-100 card-titlepx-2 pt-2 pb-0 mb-0 text-dark font-weight-light"},r.a.createElement("h5",{className:"font-weight-light m-0"},this.props.bodyPart)),r.a.createElement("div",{className:"w-100 d-flex justify-content-between"},r.a.createElement("a",{className:"btn","data-toggle":"collapse",href:"#B"+this.props.index,role:"button","aria-expanded":"false","aria-controls":"collapseExample"},r.a.createElement("i",{className:"far fa-question-circle"})),r.a.createElement(w.a,{variant:"primary",className:"mt-2 btn-sm w-50 ",onClick:function(t){return e.clickHandler(t)},name:"neededSpecialist",value:this.props.neededSpecialist},"Valider")),r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"collapse",id:"B"+this.props.index},r.a.createElement("div",{className:"small py-2"},this.props.infoText)))))}}]),t}(n.Component)),Oe=P.a.ul({open:{transition:{ease:"easeOut",duration:1400},x:0,delayChildren:0,staggerChildren:300,opacity:1,delay:100},closed:{x:20,delay:300,opacity:0}}),ke=P.a.li({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:400}}),je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isOpen:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"clickHandler",value:function(e){this.props.updatePatient(e)}},{key:"userChoice",value:function(e){this.props.nextStep(e),this.props.onFormStep(this.props.totalSteps,this.props.currentStep)}},{key:"componentDidUpdate",value:function(e){!e.isActive&&this.props.isActive&&this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state.isOpen,a=[{bodyPart:"Medecine g\xe9n\xe9rale",neededSpecialist:"G\xe9n\xe9rales",image:"/images/pictos/medical.svg",infoTitle:"",infoText:"Pour tout besoin m\xe9dical."},{bodyPart:"Probl\xeame \xe0 l'oeil",neededSpecialist:"Ophtalmologiques",image:"/images/pictos/ophtalmologie.svg",infoTitle:"",infoText:"Il s'agit d'un trouble de la vision ou d'un autre probl\xe8me \xe0 l'oeil ou \xe0 la paupiere."},{bodyPart:"Trouble oto-rhino-laryngologique",neededSpecialist:"Oto-rhino-laryngologiques",image:"/images/pictos/ORL2.png",infoTitle:"",infoText:"Il s'agit d'un probl\xe8me \xe0 l'oreille, au nez, ou dans la gorge."},{bodyPart:"Probl\xeame dentaire",neededSpecialist:"Dentaires",image:"/images/pictos/dentaire.svg",infoTitle:"",infoText:"Pour toute douleur \xe0 la dent ou aux gencives. "},{bodyPart:"Plaie \xe0 la main ",neededSpecialist:"Plaies de la main",image:"/images/pictos/plaie_de_main.svg",infoTitle:"",infoText:"Il s'agit d'une plaie \xe0 la main ou sur un ou plusieurs doigts."},{bodyPart:"Gyn\xe9cologie-obstetrie",neededSpecialist:"Gyn\xe9co-obst\xe9tricales",image:"/images/pictos/gynecologie.svg",infoTitle:"",infoText:"Il s'agit d'un probl\xe8me gyn\xe9cologique ou li\xe9 \xe0 une grossesse en cours ou suspect\xe9e."},{bodyPart:"Probl\xeame au rectum",neededSpecialist:"Proctology",image:"/images/pictos/anus.svg",infoTitle:"",infoText:"Il s'agit d'un probl\xe8me identifi\xe9 au niveau de l'anus ou du rectum."},{bodyPart:"Psychiatrie",neededSpecialist:"Psychiatriques",image:"/images/pictos/psychiatrie.svg",infoTitle:"",infoText:"Il s'agit d'un probleme d'ordre psychologique ou psychiatrique."}];return r.a.createElement(b.a,{id:"PathologyCards"},r.a.createElement(le.a,null,r.a.createElement("span",{className:"float-left pl-3"},r.a.createElement(te.a,{to:"#0",onClick:this.props.previousStep,className:"text-secondary"},r.a.createElement("i",{className:"fas fa-arrow-left mx-2"}),"Retour"))),r.a.createElement(le.a,{className:"d-flex justify-content-center"},r.a.createElement(oe.a,{xs:12,sm:12,md:9,lg:6},r.a.createElement(Oe,{pose:t?"open":"closed",className:"list-unstyled"},r.a.createElement("div",null,r.a.createElement(le.a,null,r.a.createElement("p",{className:"lead text-center w-100 mb-1"},"Quel est le probl\xeame?")),r.a.createElement(le.a,null,r.a.createElement("span",{className:"text-center px-4 small"},"Certains probl\xeames necessitent une attention particuli\xe8re, si le v\xf4tre n'en fait pas partie, veuillez choisir m\xe9decine g\xe9n\xe9rale."))),a.map(function(t,a){return r.a.createElement(ke,{key:a,className:"item"},r.a.createElement(xe,{bodyPart:t.bodyPart,picture:t.image,neededSpecialist:t.neededSpecialist,infoText:t.infoText,index:a,updatePatient:function(t){return e.props.updatePatient(t)},nextStep:function(t){return e.userChoice(t)}}))})))))}}]),t}(n.Component),Ce=(a(194),P.a.section({open:{transition:{ease:"easeInOut",duration:1400},x:0,delayChildren:0,staggerChildren:0,opacity:1,delay:0},closed:{x:0,delay:0,opacity:0}})),Se=P.a.div({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:20}}),we=P.a.p({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:400}}),Pe=P.a.div({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:800}}),Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isOpen:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({isOpen:!0})}},{key:"clickHandler",value:function(e){this.props.nextStep(),this.props.updatePatient(e),this.props.onFormStep(this.props.totalSteps,this.props.currentStep)}},{key:"render",value:function(){var e=this,t=this.state.isOpen;return r.a.createElement(Ce,{pose:t?"open":"closed",className:"text-center"},r.a.createElement(Se,{className:"bg-toy"}),r.a.createElement(we,{className:"lead my-4"},"S\u2019agit-il d\u2019un enfant ou d\u2019un adulte?"),r.a.createElement(Pe,null,r.a.createElement(w.a,{variant:"primary",onClick:function(t){return e.clickHandler(t)},name:"patientAdult",value:"Enfants"},"Enfant"),r.a.createElement(w.a,{variant:"secondary",onClick:function(t){return e.clickHandler(t)},name:"patientAdult",value:"Adultes",className:"mx-3"},"Adulte")))}}]),t}(n.Component);a(195);var De=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.numberOfSteps,l=a.currentStep;return r.a.createElement("section",null,(e=n,t=l,Array.apply(null,{length:e}).map(function(e,a){return r.a.createElement("span",{key:a,className:a===t?" dot active":"dot"},"\u2022")})))}}]),t}(n.Component),Te=a(67),Ae=a.n(Te),Le=(a(196),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={currentUserPosition:{latitude:null,longitude:null},addressInputValue:"",isLoadingCoordinates:!1,toMapResults:!1,validated:!1},a.autocompleteInput=r.a.createRef(),a.autocomplete=null,a.handlePlaceChanged=a.handlePlaceChanged.bind(Object(k.a)(a)),a.getUserLocationBrowser=a.getUserLocationBrowser.bind(Object(k.a)(a)),a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.goToResult=a.goToResult.bind(Object(k.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=new google.maps.LatLng(48.1203,1.4467),t=new google.maps.LatLng(49.2413,3.5585),a=new google.maps.LatLngBounds(e,t);this.autocomplete=new google.maps.places.Autocomplete(this.autocompleteInput.current,{bounds:a,types:["geocode"],componentRestrictions:{country:"fr"}}),this.autocomplete.addListener("place_changed",this.handlePlaceChanged)}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(s.a)({},n,a))}},{key:"handlePlaceChanged",value:function(){this.setState({isLoadingCoordinates:!0});var e=this.autocomplete.getPlace(),t=e.geometry.viewport.ga.l,a=e.geometry.viewport.ma.l;this.setState({currentUserPosition:{latitude:a,longitude:t},isLoadingCoordinates:!1}),this.props.onGeolocation(a,t),this.goToResult()}},{key:"handleSubmit",value:function(e){!1===e.currentTarget.checkValidity()&&(e.preventDefault(),e.stopPropagation()),this.setState({validated:!0})}},{key:"getUserLocationBrowser",value:function(){var e=this,t=this.state,a=t.currentUserPosition,n=t.isLoadingCoordinates;if(!a.latitude){this.toggleSearchCoordinates(n);var r=window.navigator&&window.navigator.geolocation;r&&r.getCurrentPosition(function(t){var a=e.state.isLoadingCoordinates;e.toggleSearchCoordinates(a),e.reverseGeocode(t.coords.latitude,t.coords.longitude),e.props.onGeolocation(t.coords.latitude,t.coords.longitude),e.goToResult()},function(t){e.setState({latitude:"err-latitude",longitude:"err-longitude"}),console.log("Cannot find you err..:",t)})}}},{key:"toggleSearchCoordinates",value:function(e){this.setState({isLoadingCoordinates:!e})}},{key:"reverseGeocode",value:function(e,t){var a=this,n={key:"AIzaSyCxJQJeyVha8_vtogTc2bJTxYfubmdBfo8",latlng:"".concat(e,",").concat(t)};return R.a.get("https://maps.googleapis.com/maps/api/geocode/json?key=".concat(n.key,"&latlng=").concat(n.latlng)).then(function(e){a.setState({addressInputValue:e.data.results[0].formatted_address})})}},{key:"goToResult",value:function(){this.setState({toMapResults:!0})}},{key:"render",value:function(){var e=this,t=this.state.validated;return!0===this.state.toMapResults?r.a.createElement(ue.a,{to:"/map"}):r.a.createElement($.a,{noValidate:!0,validated:t,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(w.a,{variant:"primary",onClick:function(){e.getUserLocationBrowser()}},r.a.createElement("i",{className:"fas fa-map-marker-alt"}))),r.a.createElement(Ae.a,{type:"text",placeholder:"O\xf9 \xeates vous?",name:"addressInputValue",value:this.state.addressInputValue,onChange:this.handleChange,id:"autocomplete",ref:this.autocompleteInput,required:!0}),r.a.createElement("div",{className:"input-group-append"},this.state.isLoadingCoordinates?r.a.createElement(w.a,{variant:"info",onClick:this.goToResult},r.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})):r.a.createElement(w.a,{type:"submit",variant:"outline-secondary"},r.a.createElement("i",{className:"fas fa-search"})))))}}]),t}(r.a.Component)),ze=(a(197),P.a.section({open:{transition:{ease:"easeInOut",duration:1400},x:0,delayChildren:0,staggerChildren:0,opacity:1,delay:0},closed:{x:0,delay:0,opacity:0}})),Ue=P.a.div({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:20}}),Me=P.a.p({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:400}}),Be=P.a.label({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:1500}}),He=P.a.div({open:{transition:{ease:"easeOut",duration:1e3},y:0,opacity:1,x:0},closed:{y:0,opacity:0,x:800}}),Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isOpen:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){!e.isActive&&this.props.isActive&&this.setState({isOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state.isOpen;return r.a.createElement(ze,{pose:t?"open":"closed",className:"text-center container-fluid"},r.a.createElement(le.a,null,r.a.createElement("span",{className:"float-left pl-3"},r.a.createElement(te.a,{to:"#0",onClick:this.props.previousStep,className:"text-secondary"},r.a.createElement("i",{className:"fas fa-arrow-left mx-2"}),"Retour"))),r.a.createElement(Ue,{className:"bg-directions m-4"}),r.a.createElement(Me,{className:"lead my-4"},"Trouvez des soins proches de vous."),r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:{span:12},className:" px-5 d-flex justify-content-center"},r.a.createElement(He,{className:"col-md-6 col-xs-12"},r.a.createElement(oe.a,{className:"bg-light shadow-sm border rounded p-2 "},r.a.createElement(Le,{onGeolocation:this.props.onGeolocation,nextStep:function(t){return e.props.nextStep(t)}}))))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{sm:{span:12},className:"d-flex justify-content-center"},r.a.createElement($.a,{className:"p-2 small text-left"},r.a.createElement("div",{key:"hint-checkbox",className:"hint-checkbox m-2 px-2"},r.a.createElement(Be,null,r.a.createElement($.a.Check,{type:"checkbox",id:"prescription",className:"d-inline mr-2"}),r.a.createElement("span",{className:"text-muted"},"C'est pour renouveller une ordonnance ?"," ",r.a.createElement("span",{className:"text-secondary"},"Cliquez ici !"))))))))}}]),t}(n.Component),qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={numberOfSteps:3,currentStep:0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateFormIndicator",value:function(e,t){this.setState({numberOfSteps:e,currentStep:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.numberOfSteps,n=t.currentStep;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"d-flex justify-content-center"},r.a.createElement(De,{numberOfSteps:a,currentStep:n})),r.a.createElement(Ne.a,{onStepChange:this.handleStep,initialStep:1},r.a.createElement(Ie,{hashKey:"age",updatePatient:function(t){return e.props.updatePatient(t)},onFormStep:function(t,a){return e.updateFormIndicator(t,a)}}),r.a.createElement(je,{hashKey:"service",updatePatient:function(t){return e.props.updatePatient(t)},onFormStep:function(t,a){return e.updateFormIndicator(t,a)}}),r.a.createElement(Re,{hashKey:"position",onGeolocation:this.props.onGeolocation})),r.a.createElement(D,null))}}]),t}(n.Component),Ge=(a(198),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;e.preventDefault(),(t=this.state,fe.post("/api/process-signup",t).catch(ge)).then(function(e){console.log("sign up result",e.data),a.props.signupSuccess(e.data)})}},{key:"render",value:function(){var e=this,t=this.props.currentUser;return r.a.createElement("section",{className:"SignupPage"},t?r.a.createElement("div",{class:"card bg-light"},r.a.createElement("article",{class:"card-body mx-auto"},r.a.createElement("h4",{class:"card-title mt-3 text-center"},"Your account has been created"))):r.a.createElement("div",{class:"card bg-light"},r.a.createElement("article",{class:"card-body mx-auto"},r.a.createElement("h4",{class:"card-title mt-3 text-center"},"Create Account"),r.a.createElement("p",{class:"text-center"},"Get started with your pro account "),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{class:"form-group input-group"},r.a.createElement("div",{class:"input-group-prepend"}),r.a.createElement("div",{class:"form-group input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"}," ",r.a.createElement("i",{class:"fa fa-envelope"})," ")),r.a.createElement("input",{onChange:function(t){e.genericOnChange(t)},value:this.state.email,name:"username",class:"form-control",placeholder:"Email address",type:"email"})),r.a.createElement("div",{class:"form-group input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"}," ",r.a.createElement("i",{class:"fa fa-building"})," ")),r.a.createElement("select",{class:"form-control"},r.a.createElement("option",{selected:""}," Select role type"),r.a.createElement("option",null,"Fleet Manager"),r.a.createElement("option",null,"Administrative"),r.a.createElement("option",null,"Nursing/Medical"))),r.a.createElement("div",{class:"form-group input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"}," ",r.a.createElement("i",{class:"fa fa-lock"})," ")),r.a.createElement("input",{class:"form-control",placeholder:"Create password",type:"password",name:"password"})),r.a.createElement("div",{class:"form-group input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"}," ",r.a.createElement("i",{class:"fa fa-lock"})," ")),r.a.createElement("input",{onChange:function(t){e.genericOnChange(t)},value:this.state.password,s:!0,class:"form-control",placeholder:"Repeat password",type:"password",name:"password"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"submit",class:"btn btn-primary btn-block"}," ","Create Account"," "))),r.a.createElement("p",{class:"text-center"},"Have an account? ",r.a.createElement("a",{href:"/login"},"Log In")," ")))))}}]),t}(n.Component)),Ve=a(71),Fe=(a(199),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;e.preventDefault(),(t=this.state,fe.post("/api/process-login",t).catch(ge)).then(function(e){console.log("log in",e.data),a.props.loginSuccess(e.data)})}},{key:"render",value:function(){var e=this;return this.props.currentUser?r.a.createElement(Ve.a,{to:"/dashboard"}):r.a.createElement("section",{className:"LoginPage"},r.a.createElement("section",{className:"bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-lg-12 pt-4"},r.a.createElement("h1",{className:"pt-4"},r.a.createElement("span",{className:"text-primary display-4 "},"Med"),r.a.createElement("span",{className:"text-muted display-4 "},"Direct"),r.a.createElement("span",{className:"text-info small"},"\xa0Pro"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8  order-first order-md-5 mt-5"},r.a.createElement("img",{src:"/images/illustrations/undraw_authentication_fsn5.svg",alt:"Illustration calme et apaisante de deux docteurs dans un hopital",className:"img-fluid"})),r.a.createElement("div",{className:"col-lg-4 py-4 pr-0"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"text-center border border-light p-5"},r.a.createElement("p",{classame:"h4 mb-4"},"Portal Log In"),r.a.createElement("input",{type:"username",name:"username",className:"form-control mb-4","aria-describedby":"emailHelp",onChange:function(t){e.genericOnChange(t)},value:this.state.username||"",placeholder:"E-mail "}),r.a.createElement("input",{type:"password",name:"password",className:"form-control mb-4","aria-describedby":"passwordHelp",onChange:function(t){e.genericOnChange(t)},value:this.state.password||"",placeholder:"Password "}),r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input"}),r.a.createElement("label",{className:"custom-control-label"},"Remember me"))),r.a.createElement("button",{className:"btn btn-info btn-block my-4",type:"submit"},"Sign in"),r.a.createElement("p",null,"Not a member? \xa0",r.a.createElement("a",{href:"/signup"},"Create a profile"))))))))}}]),t}(n.Component)),Je=a(105),_e=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.isGeolocationAvailable?this.props.isGeolocationEnabled?this.props.coords?r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"latitude"),r.a.createElement("td",null,this.props.coords.latitude)),r.a.createElement("tr",null,r.a.createElement("td",null,"longitude"),r.a.createElement("td",null,this.props.coords.longitude)),r.a.createElement("tr",null,r.a.createElement("td",null,"altitude"),r.a.createElement("td",null,this.props.coords.altitude)),r.a.createElement("tr",null,r.a.createElement("td",null,"heading"),r.a.createElement("td",null,this.props.coords.heading)),r.a.createElement("tr",null,r.a.createElement("td",null,"speed"),r.a.createElement("td",null,this.props.coords.speed)))):r.a.createElement("div",null,"Getting the location data\u2026 "):r.a.createElement("div",null,"Geolocation is not enabled"):r.a.createElement("div",null,"Your browser does not support Geolocation")}}]),t}(r.a.Component),Xe=Object(Je.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(_e),Qe=(a(201),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={open:!0,viewport:{latitude:48.85341,longitude:2.3488,zoom:10,pitch:45,bearing:-17.6},structureItem:{},times:"",redirect:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params;(e=a.structureId,fe.get("/api/structure-details/".concat(e)).catch(ge)).then(function(e){console.log("Structure details",e.data);var a=e.data,n=(new Date).getDay();console.log(n),console.log(a.sunday);var r="";if(a.monday||a.tuesday||a.wednesday||a.thursday||a.friday||a.saturday||a.sunday){switch(n){case 1:r=a.monday;break;case 2:r=a.tuesday;break;case 3:r=a.wednesday;break;case 4:r=a.thursday;break;case 5:r=a.friday;break;case 6:r=a.saturday;break;case 7:r=a.sunday;break;default:console.log("Sorry, we did not find time")}""===r&&(r="ferm\xe9")}else r="Ouvert 24h/24 - 7j/7";console.log(r),t.setState({structureItem:a,times:r})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.structureItem,l=t.times,c=this.state.viewport;return r.a.createElement(le.a,{className:"no-gutters"},r.a.createElement(oe.a,{sm:{span:12,order:2},md:{span:4,order:2},id:"map-filter"},r.a.createElement("div",{id:"accordion"}),r.a.createElement("div",{className:"card border-bottom-0"},r.a.createElement("div",{className:"card-header",id:"headingOne"},a?r.a.createElement(w.a,{variant:"primary",size:"lg",block:!0,className:"d-md-none",onClick:function(){return e.setState({open:!a})},"aria-controls":"example-collapse-text","aria-expanded":a},r.a.createElement("p",{className:"clollapsBtnText"},"Carte seulement")):r.a.createElement(w.a,{variant:"outline-primary",size:"lg",block:!0,className:"d-md-none",onClick:function(){return e.setState({open:!a})},"aria-controls":"example-collapse-text","aria-expanded":a},r.a.createElement("p",{className:"clollapsBtnText"},"Carte et propositions")),r.a.createElement(g.LinkContainer,{to:"/map"},r.a.createElement(w.a,{variant:"secondary",size:"sm",block:!0,className:"back"},r.a.createElement("i",{className:"fas fa-arrow-left"})," Retour"))),r.a.createElement(ne.a,{in:this.state.open,className:"dim",id:"example-collapse-text"},r.a.createElement("div",{"aria-labelledby":"headingOne","data-parent":"#accordion"},r.a.createElement(pe.a,null,r.a.createElement(pe.a.Body,null,r.a.createElement(pe.a.Title,null,n.name),r.a.createElement(pe.a.Subtitle,{className:"mb-2 text-muted"},n.type),r.a.createElement("address",{className:"d-block p-2 bg-light"},r.a.createElement(pe.a.Text,null,"Adresse et horaires : ",l),r.a.createElement("p",{className:"text-muted"},n.streetNumber," ",n.roadType," ",n.streetName," - ",n.city,","," ",n.zipCode),r.a.createElement(pe.a.Link,{href:"tel:+33{structureItem.phoneNumber}"},n.phoneNumber)))))))),r.a.createElement(oe.a,{sm:{span:12,order:2},md:{span:8,order:2}},r.a.createElement(q.d,Object.assign({},c,{mapboxApiAccessToken:"pk.eyJ1IjoicHJvamVjdDNpcm9uaGFjayIsImEiOiJjanNpdzA4aXcxemloNDRueDBkaXlkZDh0In0.bbNCzs-0njORLSHu9bXeDQ",mapStyle:"mapbox://styles/project3ironhack/cjsk4xibk5rjh1fmqo9k31hym",width:"100%",height:window.innerHeight-56,onViewportChange:this._onViewportChange}))))}}]),t}(n.Component)),Ze=(a(202),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={hospitalItems:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fe.get("/api/hospitals?size=60&offset=60").catch(ge).then(function(t){var a=t.data;console.log(a,"coucouuuuu"),e.setState({hospitalItems:a})})}},{key:"render",value:function(){var e=this.state.hospitalItems;return r.a.createElement("section",{className:"Dashboard"},r.a.createElement("table",{id:"example",className:"table table-striped table-bordered ",cellSpacing:"0",width:"100%"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"th-sm"},"Hospital Name"),r.a.createElement("th",{className:"th-sm"},"Group Name"),r.a.createElement("th",{className:"th-sm"},"Phone Number"),r.a.createElement("th",{className:"th-sm"},"Street Address"),r.a.createElement("th",{className:"th-sm"},"City, Zipcode"),r.a.createElement("th",{className:"th-sm"},"Access Map"),r.a.createElement("th",{className:"th-sm"},"Management Entity"),r.a.createElement("th",{className:"th-sm"},"Edit"),r.a.createElement("th",{className:"th-sm"},"Delete"))),r.a.createElement("tbody",{id:"myTable"},e.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.group),r.a.createElement("td",null,e.phoneNumber),r.a.createElement("td",null,e.streetNumber," ",e.roadType," ",e.streetName),r.a.createElement("td",null,e.city,", ",e.zipCode),r.a.createElement("td",null,r.a.createElement("a",{href:e.urlToPlan},"Link")),r.a.createElement("td",null,e.managerEntity),r.a.createElement("td",null,r.a.createElement("a",{className:"btn btn-primary btn-xs"},r.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"}))),r.a.createElement("td",null,r.a.createElement("p",{"data-placement":"top","data-toggle":"tooltip",title:"Delete"},r.a.createElement("button",{className:"btn btn-danger btn-xs","data-title":"Delete","data-toggle":"modal","data-target":"#delete"},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))))}))),r.a.createElement("script",null,"dataTable()"))}}]),t}(n.Component));a(203).config();var Ke=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(m.a)(this,Object(p.a)(t).call(this,e));var n=localStorage.getItem("currentUser");return n&&(n=JSON.parse(n)),a.state={currentUser:n,patientGender:"",neededSpecialist:"",patientAdult:"",beforeChildren:!0,patientLocation:{latitude:0,longitude:0}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateUser",value:function(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this.setState({currentUser:e})}},{key:"updatePatient",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(s.a)({},a,n))}},{key:"updatePatientPosition",value:function(e,t){this.setState({patientLocation:{latitude:e,longitude:t}})}},{key:"logoutClick",value:function(){var e=this;fe.get("/api/logout").catch(ge).then(function(t){e.updateUser(null)}).catch(function(e){return e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.neededSpecialist,n=t.patientAdult,l=t.patientLocation;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(O,{currentUser:this.state.currentUser,logoutClick:function(){return e.logoutClick()}})),r.a.createElement(h.a,null,r.a.createElement(f.a,{path:"/dashboard",component:Ze}),r.a.createElement(f.a,{path:"/",exact:!0,render:function(){return r.a.createElement(B,{updatePatient:function(t){return e.updatePatient(t)}})}}),r.a.createElement(f.a,{key:"3",path:"/map",render:function(){return r.a.createElement(be,{neededSpecialist:a,patientType:n,userLocation:l,updatePatient:function(t){return e.updatePatient(t)}})}}),r.a.createElement(f.a,{key:"geoloc",path:"/geoloc",component:Xe}),r.a.createElement(f.a,{key:"form",path:"/form",render:function(){return r.a.createElement(qe,{updatePatient:function(t){return e.updatePatient(t)},onGeolocation:function(t,a){return e.updatePatientPosition(t,a)}})}}),r.a.createElement(f.a,{key:"signup",path:"/signup",render:function(){return r.a.createElement(Ge,{currentUser:e.state.currentUser,signupSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(f.a,{key:"login",path:"/login",render:function(){return r.a.createElement(Fe,{currentUser:e.state.currentUser,loginSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(f.a,{path:"/structure-details/:structureId",component:Qe}),r.a.createElement(f.a,{component:ye,key:"NotFound"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,null,r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[107,1,2]]]);
//# sourceMappingURL=main.d82a8d0f.chunk.js.map