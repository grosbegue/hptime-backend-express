{"version":3,"sources":["components/Navigation.js","components/IsEmergency.js","components/MapMarker.js","components/UserMarker.js","components/PopUp.js","components/SingleMap.js","api.js","components/MapWrapper.js","components/NotFound.js","components/SpecialtyCard.js","components/PathologyQuestions.js","components/AdultQuestion.js","components/QuestionsIndicator.js","components/LocationSearchInput.js","components/UserLocalisation.js","components/Questions.js","components/SignUpPage.js","components/LoginPage.js","components/GeolocationCoodinates.js","App.js","serviceWorker.js","index.js"],"names":["Navigation","_this","this","react_default","a","createElement","Container_default","Navbar_default","bg","variant","expand","fixed","collapseOnSelect","lib","to","Brand","Toggle","aria-controls","Collapse","id","Nav_default","className","Link","props","currentUser","Fragment","onClick","logoutClick","Component","IsEmergency","context","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","show","handleShow","bind","assertThisInitialized","handleClose","setState","src","alt","Button_default","size","Modal_default","assign","aria-labelledby","centered","onHide","Header","Title","Body","Footer","href","PureComponent","ICON","hospitalUnfiltered","cursor","fill","stroke","opacity","hospitalFiltered","structureUnfiltered","structureFiltered","MapMarker","_this$props","_this$props$size","isHospital","oneItem","group","isFiltered","filtered","version","x","y","viewBox","enable-background","height","style","objectSpread","transform","concat","d","UserMarker","PopUp","popupInfo","esm","longitude","latitude","closeOnClick","anchor","onClose","onCloseClick","name","phoneNumber","streetNumber","roadType","streetName","zipCode","city","urlToPlan","SingleMap","hospitalArray","structureArray","altStructure","newstructureArray","viewport","zoom","pitch","bearing","_onViewportChange","renderUserMarker","_this2","map","index","key","components_MapMarker","_this3","src_components_PopUp","clearPopup","location","src_components_UserMarker","transitionInterpolator","FlyToInterpolator","transitionDuration","userLocation","console","log","mapboxApiAccessToken","mapStyle","width","window","innerHeight","onViewportChange","renderMapAndMarkers","renderPopup","backendApi","axios","create","baseURL","process","withCredentials","errorHandler","err","response","data","alert","getAtlStructuresbyLocation","latt","long","get","MapWrapper","setRedirect","redirect","renderRedirect","Redirect","open","isSubmitSuccessful","all","then","spread","responseHos","responseAlt","_this2$props","neededSpecialist","patientType","i","tenFirstaltStructure","slice","filteredHospiatls","filter","el","availablePoles","some","pole","pathology","mapboxArray","userLong","userLatt","catch","duration","Math","round","durations","sort","b","Swal","fire","position","type","title","showConfirmButton","timer","_this$state","Row_default","Col_default","sm","span","order","md","aria-expanded","Collapse_default","in","data-parent","scope","oneStructure","AppelPrealable","src_components_SingleMap","NotFound","SpecialtyCard","isVisible","event","updatePatient","nextStep","picture","bodyPart","clickHandler","value","Ul","posed","ul","transition","ease","delayChildren","staggerChildren","delay","closed","Li","li","PathologyQuestions","toggle","isOpen","onFormStep","totalSteps","currentStep","setTimeout","specialtyList","image","infoTitle","infoText","previousStep","class","xs","lg","pose","oneSpecialty","src_components_SpecialtyCard","userChoice","AdultQuestion","Questions","dots","currentActiveDot","numberOfSteps","Array","apply","length","dot","LocationSearchInput","currentUserPosition","addressInputValue","isLoadingCoordinates","toMapResults","validated","autocompleteInput","React","createRef","autocomplete","handlePlaceChanged","getUserLocationBrowser","handleChange","goToResult","southWest","google","maps","LatLng","northEast","ileDeFrance","LatLngBounds","places","Autocomplete","current","bounds","types","componentRestrictions","country","addListener","target","checked","defineProperty","place","getPlace","geometry","ga","l","ma","onGeolocation","currentTarget","checkValidity","preventDefault","stopPropagation","toggleSearchCoordinates","navigator","geolocation","getCurrentPosition","reverseGeocode","coords","error","currentValue","params","REACT_APP_GOOGLE_MAPS_JS","latlng","results","formatted_address","_this4","Form_default","noValidate","onSubmit","e","handleSubmit","FormControl_default","placeholder","onChange","ref","required","UserLocalisation","src_components_LocationSearchInput","Check","components_QuestionsIndicator","react_step_wizard_min_default","isHashEnabled","initialStep","src_components_AdultQuestion","hashKey","updateFormIndicator","components_PathologyQuestions","src_components_UserLocalisation","SignupPage","username","password","_event$target","userSubmission","post","signupSuccess","genericOnChange","email","LoginPage","loginCredentials","loginSuccess","es_Redirect","Demo","isGeolocationAvailable","isGeolocationEnabled","altitude","heading","speed","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","require","config","App","userInfo","localStorage","getItem","JSON","parse","patientGender","patientAdult","beforeChildren","patientLocation","newUser","setItem","stringify","removeItem","updateUser","components_Navigation","Switch","Route","path","exact","component","render","components_MapWrapper","GeolocationPoint","components_Questions","updatePatientPosition","components_SignUpPage","user","src_components_LoginPage","Boolean","hostname","match","ReactDOM","BrowserRouter","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.17984c8c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nclass Navigation extends Component {\r\n  // state = { }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Navbar\r\n          bg=\"white\"\r\n          variant=\"light\"\r\n          expand=\"sm\"\r\n          fixed=\"top\"\r\n          collapseOnSelect=\"true\"\r\n        >\r\n          <LinkContainer to=\"/\">\r\n            <Navbar.Brand>\r\n              {\" \"}\r\n              Med<b>Direct</b>\r\n            </Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n          <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n              <LinkContainer to=\"/form\">\r\n                <Nav.Link>Form Component</Nav.Link>\r\n              </LinkContainer>\r\n              <LinkContainer to=\"/map\">\r\n                <Nav.Link>Map Component</Nav.Link>\r\n              </LinkContainer>\r\n              {this.props.currentUser ? (\r\n                <>\r\n                  <LinkContainer to=\"/map\">\r\n                    <Nav.Link onClick={() => this.props.logoutClick()}>\r\n                      Log Out\r\n                    </Nav.Link>\r\n                  </LinkContainer>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <LinkContainer to=\"/signup\">\r\n                    <Nav.Link>S'enregistrer</Nav.Link>\r\n                  </LinkContainer>\r\n                  <LinkContainer to=\"/login\">\r\n                    <Nav.Link>Se connecter</Nav.Link>\r\n                  </LinkContainer>\r\n                </>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { PureComponent } from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport \"./IsEmergency.scss\";\r\n\r\nclass IsEmergency extends PureComponent {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      show: false\r\n    };\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  // show and hide modal\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <section className=\"bg-light\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 pt-4\">\r\n                <h1 className=\"display-3 pt-4\">\r\n                  <span className=\"text-primary\">Med</span>\r\n                  <span className=\"text-muted\">Direct</span>\r\n                </h1>\r\n              </div>\r\n              {/* illustration */}\r\n              <div className=\"col-lg-8  order-first order-md-1\">\r\n                <img\r\n                  src=\"/images/illustrations/medicine.svg\"\r\n                  alt=\"Illustration calme et apaisante de deux docteurs dans un hopital\"\r\n                  className=\"img-fluid\"\r\n                />\r\n              </div>\r\n              {/* speech and CTA */}\r\n              <div className=\"col-lg-4 py-4 pr-0\">\r\n                <p className=\"lead mb-3\">\r\n                  MedDirect vous aide a trouver les meilleurs soins d'urgence\r\n                  adaptés à vos besoins.\r\n                </p>\r\n                <p className=\"text-muted\">\r\n                  Estimez les temps d'attente dans les centres de soins à\r\n                  proximité et trouvez des alternatives sans attendre!\r\n                </p>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"lg\"\r\n                  className=\"mt-3\"\r\n                  onClick={this.handleShow}\r\n                >\r\n                  Commencer\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <Modal\r\n          {...this.props}\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          centered\r\n          show={this.state.show}\r\n          onHide={this.handleClose}\r\n        >\r\n          <Modal.Header>\r\n            <Modal.Title id=\"contained-modal-title-vcenter\">\r\n              Est-ce une urgence vitale?\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n\r\n          <Modal.Body>\r\n            <p>\r\n              Si vous pensez que votre vie ou celle d'un proche est en danger,\r\n              appellez le SAMU, sinon merci de <b>cliquer sur Continuer.</b>\r\n            </p>\r\n          </Modal.Body>\r\n\r\n          <Modal.Footer>\r\n            <a href=\"tel:+3315\">\r\n              <Button variant=\"danger\">\r\n                <i className=\"fas fa-phone\" /> Appeller le SAMU (15)\r\n              </Button>\r\n            </a>\r\n\r\n            <LinkContainer to=\"/form\">\r\n              <Button variant=\"primary\">\r\n                <i className=\"fas fa-arrow-right\" /> Continuer\r\n              </Button>\r\n            </LinkContainer>\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <footer className=\"bg-light\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <p className=\"small text-muted p-5\">\r\n                Done with love by Christina Bailey, Christophe Begue, Thomas\r\n                Lesage, Samuel Bouaroua, and Raphael Veil.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IsEmergency;\r\n","import React, { PureComponent } from \"react\";\r\n\r\nconst ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\r\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\r\n  C20.1,15.8,20.2,15.8,20.2,15.7z`;\r\n\r\nconst hospitalUnfiltered = {\r\n  cursor: \"pointer\",\r\n  fill: \"#74b6f9\",\r\n  stroke: \"none\",\r\n  opacity: 0.5,\r\n  size: 25\r\n};\r\n\r\nconst hospitalFiltered = {\r\n  cursor: \"pointer\",\r\n  fill: \"#ef6c60\",\r\n  stroke: \"none\",\r\n  opacity: 1,\r\n  size: 25\r\n};\r\n\r\nconst structureUnfiltered = {\r\n  cursor: \"pointer\",\r\n  fill: \"#74b6f9\",\r\n  stroke: \"none\",\r\n  opacity: 0.5,\r\n  size: 25\r\n};\r\n\r\nconst structureFiltered = {\r\n  cursor: \"pointer\",\r\n  fill: \"#74b6f9\",\r\n  stroke: \"none\",\r\n  opacity: 1,\r\n  size: 25\r\n};\r\n\r\nclass MapMarker extends PureComponent {\r\n  render() {\r\n    const { size = 20, onClick } = this.props;\r\n    const isHospital = this.props.oneItem.group;\r\n    //  if false then not a hospital\r\n    const isFiltered = this.props.oneItem.filtered;\r\n    // if false then unfiltered\r\n\r\n    // console.log(isHospital);\r\n    if (isHospital && isFiltered) {\r\n      return (\r\n        <div>\r\n          <svg\r\n            version=\"1.1\"\r\n            id=\"Calque_1\"\r\n            x=\"0px\"\r\n            y=\"0px\"\r\n            viewBox=\"0 0 384 512\"\r\n            enable-background=\"new 0 0 384 512\"\r\n            height={size}\r\n            style={{\r\n              ...hospitalFiltered,\r\n              transform: `translate(${-size / 2}px,${-size}px)`\r\n            }}\r\n            onClick={onClick}\r\n          >\r\n            <path\r\n              d=\"M192,0C86,0,0,86,0,192c0,77.4,27,99,172.3,309.7c9.5,13.8,29.9,13.8,39.5,0C357,291,384,269.4,384,192\r\n\tC384,86,298,0,192,0z M264,286h-39.8v-68.9h-64.3V286H120V121.1h39.8v62.4h64.3v-62.4H264V286z\"\r\n            />\r\n          </svg>\r\n\r\n          {/* <svg\r\n            height={size}\r\n            viewBox=\"0 0 24 24\"\r\n            style={{\r\n              ...hospitalFiltered,\r\n              transform: `translate(${-size / 2}px,${-size}px)`\r\n            }}\r\n            onClick={onClick}\r\n          >\r\n            <path d={ICON} />\r\n          </svg> */}\r\n        </div>\r\n      );\r\n    } else {\r\n      if (isHospital && !isFiltered) {\r\n        return (\r\n          <div>\r\n            <svg\r\n              height={size}\r\n              viewBox=\"0 0 24 24\"\r\n              style={{\r\n                ...hospitalUnfiltered,\r\n                transform: `translate(${-size / 2}px,${-size}px)`\r\n              }}\r\n              onClick={onClick}\r\n            >\r\n              <path d={ICON} />\r\n            </svg>\r\n          </div>\r\n        );\r\n      } else {\r\n        if (!isHospital && isFiltered) {\r\n          return (\r\n            <div>\r\n              <svg\r\n                version=\"1.1\"\r\n                id=\"Calque_1\"\r\n                x=\"0px\"\r\n                y=\"0px\"\r\n                viewBox=\"0 0 384 512\"\r\n                enable-background=\"new 0 0 384 512\"\r\n                height={size}\r\n                style={{\r\n                  ...structureFiltered,\r\n                  transform: `translate(${-size / 2}px,${-size}px)`\r\n                }}\r\n                onClick={onClick}\r\n              >\r\n                <path\r\n                  d=\"M192,0C86,0,0,86,0,192c0,77.4,27,99,172.3,309.7c9.5,13.8,29.9,13.8,39.5,0C357,291,384,269.4,384,192\r\n\tC384,86,298,0,192,0z M239.1,283.1c-10.7,4.9-23.1,7.3-37,7.3c-12.7,0-24.5-2.1-35.3-6.3c-10.8-4.2-20.1-10.1-28.1-17.8\r\n\tc-7.9-7.7-14.1-16.9-18.6-27.6c-4.5-10.7-6.8-22.5-6.8-35.4c0-13.2,2.3-25.2,6.9-35.9c4.6-10.7,10.9-19.8,19-27.4\r\n\tc8.1-7.5,17.5-13.3,28.4-17.3c10.9-4,22.6-6.1,35.2-6.1c11.6,0,23.1,2.1,34.3,6.2c11.3,4.1,20.4,10.1,27.4,18l-27,27\r\n\tc-3.7-5.1-8.6-8.9-14.7-11.4c-6.1-2.5-12.3-3.7-18.6-3.7c-7,0-13.4,1.3-19.2,3.8c-5.8,2.6-10.8,6.1-15,10.6c-4.2,4.5-7.5,9.8-9.8,16\r\n\tc-2.3,6.1-3.5,12.8-3.5,20.1c0,7.5,1.2,14.3,3.5,20.5c2.3,6.2,5.5,11.5,9.7,16c4.1,4.4,9,7.9,14.8,10.4c5.7,2.5,12,3.7,18.9,3.7\r\n\tc7.9,0,14.8-1.5,20.7-4.7c5.9-3.1,10.6-7.1,14.2-12.1l27.7,26.1C258.8,271.6,249.8,278.2,239.1,283.1z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          );\r\n        } else {\r\n          return (\r\n            <div>\r\n              <svg\r\n                height={size}\r\n                viewBox=\"0 0 24 24\"\r\n                style={{\r\n                  ...structureUnfiltered,\r\n                  transform: `translate(${-size / 2}px,${-size}px)`\r\n                }}\r\n                onClick={onClick}\r\n              >\r\n                <path d={ICON} />\r\n              </svg>\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default MapMarker;\r\n","import React, { PureComponent } from \"react\";\r\nimport \"./UserMarker.scss\";\r\n\r\nclass UserMarker extends PureComponent {\r\n  render() {\r\n    const size = 10;\r\n    return (\r\n      <div\r\n        className=\"dot\"\r\n        style={{\r\n          cursor: \"pointer\",\r\n          transform: `translate(${-size}px,${-size}px)`\r\n        }}\r\n      >\r\n        <div className=\"centraldot\" />\r\n        <div className=\"wave\" />\r\n        <div className=\"wave2\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserMarker;\r\n","import React, { Component } from \"react\";\r\nimport \"./PopUp.css\";\r\nimport { Popup } from \"react-map-gl\";\r\n\r\nclass PopUp extends Component {\r\n  render() {\r\n    const { popupInfo } = this.props;\r\n\r\n    return (\r\n      <Popup\r\n        className=\"PopUp\"\r\n        // info passed\r\n        longitude={popupInfo.longitude}\r\n        latitude={popupInfo.latitude}\r\n        // functionality\r\n        closeOnClick={false}\r\n        anchor=\"top\"\r\n        onClose={this.props.onCloseClick}\r\n      >\r\n        {/* <p>\r\n          <b> {popupInfo.name}</b>\r\n          <br />\r\n          <a href=\"tel:+33{popupInfo.phoneNumber}\">\r\n            {popupInfo.phoneNumber}\r\n          </a>\r\n        </p> */}\r\n\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <p className=\"card-text small\">\r\n              {\" \"}\r\n              <b>{popupInfo.name}</b>\r\n            </p>\r\n            <p className=\"card-text small\">\r\n              <a href=\"tel:+33{popupInfo.phoneNumber}\">\r\n                {popupInfo.phoneNumber}\r\n              </a>\r\n            </p>\r\n            <p className=\"card-text small\">\r\n              {popupInfo.streetNumber} {popupInfo.roadType}{\" \"}\r\n              {popupInfo.streetName}\r\n              <br />\r\n              {popupInfo.zipCode} {popupInfo.city}\r\n            </p>\r\n            <a\r\n              href=\"http://maps.google.com/?q=<{popupInfo.latitude}>,<{popupInfo.longitude}>\"\r\n              className=\"card-link small\"\r\n            >\r\n              Route Me\r\n            </a>\r\n            <a href={popupInfo.urlToPlan} className=\"card-link small\">\r\n              Access Plan\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </Popup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PopUp;\r\n","// See and copy pasta available components\r\nimport React, { Component } from \"react\";\r\nimport \"./SingleMap.scss\";\r\nimport MapGL, { Marker, FlyToInterpolator } from \"react-map-gl\";\r\nimport MapMarker from \"./MapMarker.js\";\r\nimport UserMarker from \"./UserMarker.js\";\r\nimport PopUp from \"./PopUp\";\r\n\r\nclass SingleMap extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hospitalArray: [],\r\n      structureArray: [],\r\n      altStructure: [],\r\n      newstructureArray: [],\r\n      viewport: {\r\n        latitude: 48.85341,\r\n        longitude: 2.3488,\r\n        zoom: 10,\r\n        pitch: 45,\r\n        bearing: -17.6\r\n      },\r\n      popupInfo: null\r\n    };\r\n\r\n    this._onViewportChange = this._onViewportChange.bind(this);\r\n    this.renderUserMarker = this.renderUserMarker.bind(this);\r\n    // need to bind the specific event to avoid triggering on load\r\n  }\r\n\r\n  renderMapAndMarkers() {\r\n    const structureArray = this.props.structureArray;\r\n    let resultArray = structureArray.map((oneItem, index) => {\r\n      return (\r\n        <Marker\r\n          key={`marker-${index}`}\r\n          longitude={oneItem.longitude}\r\n          latitude={oneItem.latitude}\r\n        >\r\n          <MapMarker\r\n            structureArray={this.props.structureArray}\r\n            oneItem={oneItem}\r\n            onClick={() => this.setState({ popupInfo: oneItem })}\r\n          />\r\n        </Marker>\r\n      );\r\n    });\r\n    return resultArray;\r\n  }\r\n\r\n  clearPopup() {\r\n    this.setState({ popupInfo: null });\r\n  }\r\n\r\n  // update map on window size\r\n  _onViewportChange(viewport) {\r\n    this.setState({ viewport });\r\n  }\r\n\r\n  renderPopup() {\r\n    const { popupInfo } = this.state;\r\n    return (\r\n      popupInfo && (\r\n        <PopUp popupInfo={popupInfo} onCloseClick={() => this.clearPopup()} />\r\n      )\r\n    );\r\n  }\r\n\r\n  // set user current marker and fly to it\r\n  renderUserMarker(location) {\r\n    if (location) {\r\n      return (\r\n        <Marker latitude={location.latitude} longitude={location.longitude}>\r\n          <UserMarker />\r\n        </Marker>\r\n      );\r\n    }\r\n  }\r\n\r\n  // change viewport ()\r\n  _goToViewport(longitude, latitude) {\r\n    this._onViewportChange({\r\n      viewport: { longitude, latitude },\r\n      zoom: 14,\r\n      transitionInterpolator: new FlyToInterpolator(),\r\n      transitionDuration: 2500\r\n    });\r\n  }\r\n\r\n  /////Master Render//////\r\n  render() {\r\n    const { viewport } = this.state;\r\n    const { userLocation } = this.props;\r\n    console.log(this.props.structureArray, \"coucou\");\r\n\r\n    return (\r\n      <MapGL\r\n        {...viewport}\r\n        mapboxApiAccessToken=\"pk.eyJ1IjoicHJvamVjdDNpcm9uaGFjayIsImEiOiJjanNpdzA4aXcxemloNDRueDBkaXlkZDh0In0.bbNCzs-0njORLSHu9bXeDQ\"\r\n        mapStyle=\"mapbox://styles/project3ironhack/cjsk4xibk5rjh1fmqo9k31hym\"\r\n        width=\"100%\"\r\n        height={window.innerHeight - 150}\r\n        onViewportChange={this._onViewportChange}\r\n      >\r\n        {/* user marker  */}\r\n        {this.renderUserMarker(userLocation)}\r\n        {/* calling method below with Marker */}\r\n        {this.renderMapAndMarkers()}\r\n        {/* displaying PopUp */}\r\n        {this.renderPopup()}\r\n      </MapGL>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SingleMap;\r\n","import axios from \"axios\";\r\n\r\n\r\nconst backendApi = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true\r\n});\r\n\r\nfunction errorHandler(err) {\r\n  if (err.response && err.response.data) {\r\n    console.log(\"API Error\", err.response.data);\r\n  } else {\r\n    console.log(\"React Code Error\", err);\r\n  }\r\n  alert(\"Sorry! Something went wrong.\");\r\n\r\n  throw err;\r\n}\r\n\r\nexport function getHospitalList() {\r\n  return backendApi.get(\"/api/hospitals?size=60&offset=60\").catch(errorHandler);\r\n}\r\n\r\nexport function getAltStructureList() {\r\n  return backendApi\r\n    .get(\"/api/alternatives-structures?size=20&offset=20\")\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function getDistanceDuration(userLong, userLatt, long, latt){\r\n  return axios\r\n  .get(`https://api.mapbox.com/directions-matrix/v1/mapbox/walking/${userLong},${userLatt};${long},${latt}?sources=1&annotations=distance,duration&access_token=pk.eyJ1IjoiYmFsMSIsImEiOiJjanI5ZXJpb2MwZmM5M3lxazFqbWkzZG81In0.XoYsD5Eyl2RqCFphhICBLQ`)\r\n  .catch(errorHandler);\r\n}\r\nexport function postSignUp(userSubmission) {\r\n  return backendApi\r\n    .post(\"/api/process-signup\", userSubmission)\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function postLogin(loginCredentials) {\r\n  return backendApi\r\n    .post(\"/api/process-login\", loginCredentials)\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function getLogout() {\r\n  return backendApi.get(\"/api/logout\").catch(errorHandler);\r\n}\r\n\r\nexport function getHospitalsbyLocation(latt, long ){\r\n  return backendApi.get(`/api/hospitals/near?latitude=${latt}&longitude=${long}&radius=50000`)\r\n}\r\n\r\nexport function getAtlStructuresbyLocation(latt, long ){\r\n  return backendApi.get(`/api/alternatives-structures/near?latitude=${latt}&longitude=${long}&radius=50000`)\r\n}\r\n// example function\r\n// export function getLogOut() {\r\n//   return backendApi.get(\"/api/logout\").catch(errorHandler);\r\n// }\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport SingleMap from \"./SingleMap.js\";\r\nimport Collapse from \"react-bootstrap/Collapse\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Swal from 'sweetalert2'\r\nimport { Redirect } from 'react-router'\r\nimport { \r\n  getHospitalList,\r\n  getAltStructureList,\r\n  getHospitalsbyLocation,\r\n  getAtlStructuresbyLocation,\r\n  getDistanceDuration\r\n} from \"../api.js\";\r\n\r\nclass MapWrapper extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: true,\r\n      //hospitalArray renders all the hospital from the backend\r\n      hospitalArray: [],\r\n      //Will render all the alternative structure from the backend\r\n      altStructure: [],\r\n      // newstructureArray render all the filtered hospitals from the firltering process\r\n      newstructureArray: [],\r\n      // structureArray renders all hospitals and alt structures in existance (full array)\r\n      structureArray: [],\r\n      isSubmitSuccessful: false\r\n    };\r\n  }\r\n  // Allow us to filter data coming fro the back end to render only some kind of hospitals\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to='/' />\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    const userLocation = this.props.userLocation;\r\n\r\n    // get data from our backend Express API (localhost:2999)\r\n    if (userLocation) {\r\n      // console.log(userLocation.latitude);\r\n      // console.log(userLocation.longitude);\r\n      axios\r\n        .all([\r\n          getHospitalsbyLocation(userLocation.latitude, userLocation.longitude),\r\n          getAtlStructuresbyLocation(\r\n            userLocation.latitude,\r\n            userLocation.longitude\r\n          )\r\n        ])\r\n        .then(\r\n          axios.spread((responseHos, responseAlt) => {\r\n            // console.log(\"Structure list\", response.data);\r\n            const { neededSpecialist, patientType } = this.props;\r\n            // console.log(neededSpecialist, patientType);\r\n            const hospitalArray = responseHos.data || [];\r\n            const altStructure = responseAlt.data || [];\r\n            let i = 0;\r\n            for (i = 0; i <= 10; i++) {\r\n              altStructure[i].filtered = true;\r\n            }\r\n            const tenFirstaltStructure = altStructure.slice(0, 10);\r\n            // console.log(altStructure);\r\n            // console.log(newstructureArray);\r\n\r\n            const filteredHospiatls = hospitalArray.filter(el => {\r\n              if (el.availablePoles) {\r\n                //filtered is the object that allow us to know if the hospital is or not in the proposition list\r\n                el.filtered = el.availablePoles.some(\r\n                  pole =>\r\n                    pole.pathology === neededSpecialist &&\r\n                    (pole.patientType === patientType ||\r\n                      pole.patientType === \"Universel\")\r\n                );\r\n\r\n                return el.filtered;\r\n              }\r\n            });\r\n\r\n            const newstructureArray = tenFirstaltStructure\r\n              .concat(filteredHospiatls)\r\n              .slice(0, 20);\r\n            console.log(newstructureArray);\r\n            const mapboxArray = newstructureArray.map(el =>\r\n              getDistanceDuration(\r\n                userLocation.longitude,\r\n                userLocation.latitude,\r\n                el.longitude,\r\n                el.latitude\r\n              ).then(response => {\r\n                el.duration = Math.round(response.data.durations[0][0] / 60);\r\n              })\r\n            );\r\n            axios.all(mapboxArray).then(() => {\r\n              newstructureArray.sort(function(a, b) {\r\n                return a.duration - b.duration;\r\n              });\r\n              console.log(newstructureArray);\r\n              this.setState({ newstructureArray });\r\n            });\r\n\r\n            const structureArray = hospitalArray.concat(altStructure);\r\n            console.log(structureArray);\r\n\r\n            this.setState({\r\n              structureArray,\r\n              hospitalArray,\r\n              altStructure,\r\n              newstructureArray\r\n            });\r\n          })\r\n        )\r\n        .catch(() => {\r\n           \r\n           Swal.fire({\r\n            position: 'center',\r\n            type: 'info',\r\n            title: 'Etes-vous sûr d avoir suivi le questionnaire?',\r\n            showConfirmButton: false,\r\n            timer: 2000\r\n          })    \r\n          this.setState({ isSubmitSuccessful: true });     \r\n          \r\n          \r\n        });\r\n    }\r\n  }\r\n  render() {\r\n    const { newstructureArray, open } = this.state;\r\n\r\n    return this.state.isSubmitSuccessful ? (\r\n      // returning the <Redirect /> ONLY works inside RENDER\r\n      <Redirect to=\"/\" />\r\n    ) : (\r\n      <section className=\"MapWrapper\">\r\n        <Row>\r\n          <Col\r\n            sm={{ span: 12, order: 2 }}\r\n            md={{ span: 4, order: 2 }}\r\n            id=\"map-filter\"\r\n          >\r\n            <div id=\"accordion\">\r\n              <div className=\"card border-bottom-0\">\r\n                <div className=\"card-header\" id=\"headingOne\">\r\n                  <Button\r\n                    className=\"btn btn-primary btn-lg btn-block\"\r\n                    onClick={() => this.setState({ open: !open })}\r\n                    aria-controls=\"example-collapse-text\"\r\n                    aria-expanded={open}\r\n                  >\r\n                    {/* condition to change the voir map button to voir condition over the propositions list */}\r\n                    {open ? (\r\n                      <p className=\"clollapsBtnText\">Voir Map</p>\r\n                    ) : (\r\n                      <p className=\"clollapsBtnText\">Voir Propositions</p>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n                <Collapse\r\n                  in={this.state.open}\r\n                  className=\" dimension\"\r\n                  id=\"example-collapse-text\"\r\n                >\r\n                  <div aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\r\n                    {/* ---------------------------------------------------------- */}\r\n                    {/* this table display the structure propostions into the collaps button list */}\r\n                    {/* ---------------------------------------------------------- */}\r\n                    <table className=\"table scrolling\">\r\n                      <thead className=\"thead-light\">\r\n                        <tr>\r\n                          <th className=\"title1Col\" scope=\"col\">\r\n                            Tri/Pertinence\r\n                          </th>\r\n                          <th className=\"text-center colDeux\" scope=\"col\">\r\n                            Ouverte\r\n                          </th>\r\n                          <th className=\"text-center colDeux\" scope=\"col\">\r\n                            Attente\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {newstructureArray.map((oneStructure, index) => {\r\n                          return (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <ul className=\"list-group list-group-flush resultTb FCol\">\r\n                                  <li className=\"list-group-item namePolice small\">\r\n                                    <b>{oneStructure.name}</b>\r\n                                  </li>\r\n                                  <li className=\"list-group-item typePolice\">\r\n                                    <a href=\"tel:+33{popupInfo.phoneNumber}\">\r\n                                      {oneStructure.phoneNumber}\r\n                                    </a>{\" \"}\r\n                                  </li>\r\n                                </ul>\r\n                              </td>\r\n                              <td className=\"cel  colDeux\">\r\n                                {oneStructure.AppelPrealable ? (\r\n                                  <span className=\"badge badge-success badge-pill\">\r\n                                    Oui\r\n                                  </span>\r\n                                ) : (\r\n                                  <span className=\"badge badge-danger badge-pill\">\r\n                                    Non\r\n                                  </span>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"cel colDeux\">\r\n                                <ul className=\"list-group list-unstyled resultTb\">\r\n                                  <li className=\"list-list-unstyled\">\r\n                                    <span className=\"badge badge-primary\">\r\n                                      {oneStructure.duration} min\r\n                                    </span>\r\n                                  </li>\r\n                                </ul>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </Collapse>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col sm={{ span: 12, order: 2 }} md={{ span: 8, order: 2 }}>\r\n            {/* pass name of results array */}\r\n            <SingleMap\r\n              hospitalArray={this.state.hospitalArray}\r\n              altStructure={this.state.altStructure}\r\n              newstructureArray={this.state.newstructureArray}\r\n              structureArray={this.state.structureArray}\r\n              userLocation={this.props.userLocation}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapWrapper;\r\n","import React, { Component } from \"react\";\r\nimport \"./NotFound.css\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <section className=\"NotFound\">\r\n        <h2>404 Not Found</h2>\r\n        <p>The page you are looking for is not available.</p>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./SpecialtyCard.scss\";\r\n\r\nclass SpecialtyCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isVisible: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isVisible: !this.state.isVisible\r\n    });\r\n  }\r\n\r\n  clickHandler(event) {\r\n    this.props.updatePatient(event);\r\n    this.props.nextStep();\r\n  }\r\n  render() {\r\n    return (\r\n      <Col>\r\n        <div className=\"card flex-row m-3 bg-white\" key={this.props.index}>\r\n          <div className=\"card-header bg-light p-2\">\r\n            <img\r\n              src={this.props.picture}\r\n              alt={this.props.bodyPart}\r\n              className=\"picto d-block mx-auto\"\r\n            />\r\n          </div>\r\n          <div className=\"w-100 px-2\">\r\n            <div className=\"card-title p-2 text-dark font-weight-light\">\r\n              <h4 className=\"font-weight-light\">{this.props.bodyPart}</h4>\r\n            </div>\r\n\r\n            <div className=\"card-block p-2 pl-2 d-flex justify-content-end\">\r\n              {/* <p className=\"card-text\">{this.props.infoText}</p> */}\r\n              <Button\r\n                variant=\"outline-dark mr-2\"\r\n                // onClick={event => this.clickHandler(event)}\r\n              >\r\n                <i className=\"far fa-question-circle\" />\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                className=\"w-50\"\r\n                onClick={event => this.clickHandler(event)}\r\n                name=\"neededSpecialist\"\r\n                value={this.props.neededSpecialist}\r\n              >\r\n                Valider\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Col>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SpecialtyCard;\r\n","import React, { Component } from \"react\";\r\nimport posed, { PoseGroup } from \"react-pose\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\n// child card component\r\nimport SpecialtyCard from \"./SpecialtyCard\";\r\n// images\r\nconst generale = \"/images/pictos/medical.svg\";\r\nconst dent = \"/images/pictos/dentaire.svg\";\r\nconst uterus = \"/images/pictos/gynecologie.svg\";\r\nconst main = \"/images/pictos/plaie_de_main.svg\";\r\nconst oeil = \"/images/pictos/ophtalmologie.svg\";\r\nconst orl = \"/images/pictos/ORL2.png\";\r\nconst anus = \"/images/pictos/anus.svg\";\r\nconst psychiatrie = \"/images/pictos/psychiatrie.svg\";\r\nconst ventre = \"/images/pictos/ventre.svg\";\r\nconst torso = \"/images/pictos/torso.svg\";\r\nconst brulure = \"/images/pictos/brulure.svg\";\r\nconst fracture = \"/images/pictos/fracture.svg\";\r\nconst gorge = \"/images/pictos/gorge.svg\";\r\nconst grossesse = \"/images/pictos/grossesse.svg\";\r\n\r\nconst Ul = posed.ul({\r\n  open: {\r\n    transition: { ease: \"easeInOut\", duration: 300 },\r\n    x: 0,\r\n    delayChildren: 100,\r\n    staggerChildren: 120,\r\n    opacity: 1,\r\n    delay: 300\r\n  },\r\n  closed: { x: 20, delay: 300, opacity: 0 }\r\n});\r\n\r\nconst Li = posed.li({\r\n  open: {\r\n    transition: { ease: \"easeInOut\", duration: 300 },\r\n    y: 0,\r\n    opacity: 1,\r\n    x: 0\r\n  },\r\n  closed: { y: 0, opacity: 0, x: 300 }\r\n});\r\n\r\nclass PathologyQuestions extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isOpen: false };\r\n  }\r\n\r\n  // update user search filters\r\n  clickHandler(event) {\r\n    this.props.updatePatient(event);\r\n  }\r\n\r\n  // show next step and lift choice up to form step counter\r\n  userChoice(event) {\r\n    this.props.nextStep(event);\r\n    this.props.onFormStep(this.props.totalSteps, this.props.currentStep);\r\n  }\r\n  componentDidMount() {\r\n    setTimeout(this.toggle, 400);\r\n  }\r\n  componentDidUnMount() {\r\n    setTimeout(this.toggle, 0);\r\n  }\r\n\r\n  toggle = () => this.setState({ isOpen: !this.state.isOpen });\r\n\r\n  // card list of specialities that helps to filter search results of hospitals and structures with corresponding services\r\n  render() {\r\n    const { isOpen } = this.state;\r\n\r\n    const specialtyList = [\r\n      {\r\n        bodyPart: \"Oeil\",\r\n        neededSpecialist: \"Ophtalmologiques\",\r\n        image: oeil,\r\n        infoTitle: \"\",\r\n        infoText:\r\n          \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \"\r\n      },\r\n      {\r\n        bodyPart: \"ORL\",\r\n        neededSpecialist: \"Oto-rhino-laryngologiques\",\r\n        image: orl,\r\n        infoTitle: \"\",\r\n        infoText: \"Le Lorem Ipsum est simplement du faux texte employé dans.\"\r\n      },\r\n      {\r\n        bodyPart: \"Dents\",\r\n        neededSpecialist: \"Dentaires\",\r\n        image: dent,\r\n        infoTitle: \"\",\r\n        infoText:\r\n          \"Le Lorem Ipsum est simplement du faux texte employé dans la composition et la mise en page avant impression. \"\r\n      },\r\n      {\r\n        bodyPart: \"Problème à la gorge\",\r\n        neededSpecialist: \"Oto-rhino-laryngologiques\",\r\n        image: gorge,\r\n        infoTitle: \"\",\r\n        infoText: \"Le Lorem Ipsum est simplement du faux texte employé dans.\"\r\n      },\r\n      {\r\n        bodyPart: \"Main (plaie ouverte)\",\r\n        neededSpecialist: \"Plaies de la main\",\r\n        image: main,\r\n        infoTitle: \"\",\r\n        infoText: \"Le Lorem Ipsum est simplement du faux texte employé dans.\"\r\n      },\r\n      {\r\n        bodyPart: \"Poitrine\",\r\n        neededSpecialist: \"Générales\",\r\n        image: torso,\r\n        infoTitle: \"\",\r\n        infoText:\r\n          \"La proctologie. Lorem Ipsum est simplement du faux texte employé dans la composition\"\r\n      },\r\n      {\r\n        bodyPart: \"Ventre\",\r\n        neededSpecialist: \"Générales\",\r\n        image: ventre,\r\n        infoTitle: \"\",\r\n        infoText:\r\n          \"La proctologie. Lorem Ipsum est simplement du faux texte employé dans la composition\"\r\n      },\r\n      {\r\n        bodyPart: \"Gynécologie\",\r\n        neededSpecialist: \"Gynéco-obstétricales\",\r\n        image: uterus,\r\n        infoTitle: \"\",\r\n        infoText: \"Le Lorem Ipsum est simplement du faux texte employé dans.\"\r\n      },\r\n      {\r\n        bodyPart: \"Grossesse\",\r\n        neededSpecialist: \"Gynéco-obstétricales\",\r\n        image: grossesse,\r\n        infoTitle: \"\",\r\n        infoText: \"Le Lorem Ipsum est simplement du faux texte employé dans.\"\r\n      },\r\n      {\r\n        bodyPart: \"Côlon\",\r\n        neededSpecialist: \"Proctology\",\r\n        image: anus,\r\n        infoTitle: \"\",\r\n        infoText:\r\n          \"La proctologie. Lorem Ipsum est simplement du faux texte employé dans la composition\"\r\n      },\r\n      {\r\n        bodyPart: \"Psychiatrie\",\r\n        neededSpecialist: \"Psychiatriques\",\r\n        image: psychiatrie,\r\n        infoTitle: \"\",\r\n        infoText: \"Le Lorem Ipsum est simplement du faux texte employé dans.\"\r\n      },\r\n      {\r\n        bodyPart: \"Brulure (medecine générale)\",\r\n        neededSpecialist: \"Générales\",\r\n        image: brulure,\r\n        infoTitle: \"\",\r\n        infoText: \"Pour tout autre type d'urgence.\"\r\n      },\r\n      {\r\n        bodyPart: \"Fracture (medecine générale)\",\r\n        neededSpecialist: \"Générales\",\r\n        image: fracture,\r\n        infoTitle: \"\",\r\n        infoText: \"Pour tout autre type d'urgence.\"\r\n      },\r\n      {\r\n        bodyPart: \"Medecine générale\",\r\n        neededSpecialist: \"Générales\",\r\n        image: generale,\r\n        infoTitle: \"\",\r\n        infoText: \"Pour tout autre type d'urgence.\"\r\n      }\r\n    ];\r\n    return (\r\n      <section id=\"PathologyCards\">\r\n        {/* quuestion */}\r\n        <p className=\"lead text-center\">\r\n          <span className=\"float-left pl-3\">\r\n            <Link\r\n              to=\"#0\"\r\n              onClick={this.props.previousStep}\r\n              className=\"text-secondary\"\r\n            >\r\n              <i class=\"fas fa-arrow-left mx-2\" />\r\n              Retour\r\n            </Link>\r\n          </span>\r\n          <span className=\"text-center mr-4 pr-4\">\r\n            Où se situe la douleur ?\r\n          </span>\r\n        </p>\r\n\r\n        {/* card list */}\r\n        <Row className=\"d-flex justify-content-center\">\r\n          <Col xs={12} sm={12} md={9} lg={6}>\r\n            <Ul pose={isOpen ? \"open\" : \"closed\"} className=\"list-unstyled\">\r\n              {specialtyList.map((oneSpecialty, index) => {\r\n                return (\r\n                  <Li key={index} className=\"item\">\r\n                    <SpecialtyCard\r\n                      // card specs\r\n                      bodyPart={oneSpecialty.bodyPart}\r\n                      picture={oneSpecialty.image}\r\n                      neededSpecialist={oneSpecialty.neededSpecialist}\r\n                      infoText={oneSpecialty.infoText}\r\n                      index={index}\r\n                      // update filter and next step in form events\r\n                      updatePatient={event => this.props.updatePatient(event)}\r\n                      nextStep={event => this.userChoice(event)}\r\n                    />\r\n                  </Li>\r\n                );\r\n              })}\r\n            </Ul>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PathologyQuestions;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./AdultQuestion.scss\";\r\n\r\nclass AdultQuestion extends Component {\r\n  clickHandler(event) {\r\n    this.props.nextStep();\r\n    this.props.updatePatient(event);\r\n    this.props.onFormStep(this.props.totalSteps, this.props.currentStep);\r\n  }\r\n  render() {\r\n    return (\r\n      <section className=\"text-center\">\r\n        <div className=\"bg-toy\" />\r\n        <p className=\"lead my-4\">Le patient a-t-il plus de 16 ans ?</p>\r\n\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={event => this.clickHandler(event)}\r\n          name=\"patientAdult\"\r\n          value=\"Enfants\"\r\n        >\r\n          Enfant\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={event => this.clickHandler(event)}\r\n          name=\"patientAdult\"\r\n          value=\"Adultes\"\r\n          className=\"mx-3\"\r\n        >\r\n          Adulte\r\n        </Button>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdultQuestion;\r\n","import React, { Component } from \"react\";\r\nimport \"./QuestionsIndicator.scss\";\r\n\r\nfunction renderDots(dots, currentActiveDot) {\r\n  // number to array to be able to use map()\r\n  let pills = Array.apply(null, { length: dots }).map((dot, index) => (\r\n    <span\r\n      key={index}\r\n      // determine if dot must be set to .active class\r\n      className={index === currentActiveDot ? \" dot active\" : \"dot\"}\r\n    >\r\n      •\r\n    </span>\r\n  ));\r\n  return pills;\r\n}\r\nclass Questions extends Component {\r\n  render() {\r\n    const { numberOfSteps, currentStep } = this.props;\r\n    return <section>{renderDots(numberOfSteps, currentStep)}</section>;\r\n  }\r\n}\r\n\r\nexport default Questions;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport FormControl from \"react-bootstrap/FormControl\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./LocationSearchInput.scss\";\r\n\r\n// do not remove the line below please\r\n/* global google */\r\n\r\nclass LocationSearchInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentUserPosition: {\r\n        latitude: null,\r\n        longitude: null\r\n      },\r\n      addressInputValue: \"\",\r\n      isLoadingCoordinates: false,\r\n      toMapResults: false,\r\n      validated: false\r\n    };\r\n\r\n    // binds for events (needs cleaning)\r\n    this.autocompleteInput = React.createRef();\r\n    this.autocomplete = null;\r\n    this.handlePlaceChanged = this.handlePlaceChanged.bind(this);\r\n    this.getUserLocationBrowser = this.getUserLocationBrowser.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.goToResult = this.goToResult.bind(this);\r\n  }\r\n\r\n  // load Google API for autocompletion on mount\r\n  componentDidMount() {\r\n    // bound the search to ile de france for now\r\n    var southWest = new google.maps.LatLng(48.1203, 1.4467);\r\n    var northEast = new google.maps.LatLng(49.2413, 3.5585);\r\n    var ileDeFrance = new google.maps.LatLngBounds(southWest, northEast);\r\n\r\n    // monitor form and change result on event\r\n    this.autocomplete = new google.maps.places.Autocomplete(\r\n      this.autocompleteInput.current,\r\n      {\r\n        bounds: ileDeFrance,\r\n        types: [\"geocode\"],\r\n        componentRestrictions: { country: \"fr\" }\r\n      }\r\n    );\r\n\r\n    this.autocomplete.addListener(\"place_changed\", this.handlePlaceChanged);\r\n  }\r\n\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  // update state if any change on form\r\n  handlePlaceChanged() {\r\n    this.setState({\r\n      isLoadingCoordinates: true\r\n    });\r\n    const place = this.autocomplete.getPlace();\r\n    const longitude = place.geometry.viewport.ga.l;\r\n    const latitude = place.geometry.viewport.ma.l;\r\n\r\n    this.setState({\r\n      currentUserPosition: {\r\n        latitude: latitude,\r\n        longitude: longitude\r\n      },\r\n      isLoadingCoordinates: false\r\n    });\r\n\r\n    // TODO lifting state up top\r\n    this.props.onGeolocation(latitude, longitude);\r\n\r\n    // redirect user to map with filtered results\r\n    this.goToResult();\r\n  }\r\n\r\n  // input validation\r\n  handleSubmit(event) {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    this.setState({ validated: true });\r\n  }\r\n  // get user coords with HTML5 browser feature on click, redirect when filled\r\n  getUserLocationBrowser() {\r\n    const { currentUserPosition, isLoadingCoordinates } = this.state;\r\n\r\n    // triggered only if user is not located\r\n    if (!currentUserPosition.latitude) {\r\n      // loading icon\r\n      this.toggleSearchCoordinates(isLoadingCoordinates);\r\n\r\n      const location = window.navigator && window.navigator.geolocation;\r\n      if (location) {\r\n        location.getCurrentPosition(\r\n          position => {\r\n            // update state with results\r\n            const { isLoadingCoordinates } = this.state;\r\n            this.toggleSearchCoordinates(isLoadingCoordinates);\r\n\r\n            // reverse geocode\r\n            this.reverseGeocode(\r\n              position.coords.latitude,\r\n              position.coords.longitude\r\n            );\r\n            // TODO lifting state up here too\r\n            this.props.onGeolocation(\r\n              position.coords.latitude,\r\n              position.coords.longitude\r\n            );\r\n\r\n            // redirect user to map with filtered results\r\n            this.goToResult();\r\n          },\r\n          error => {\r\n            this.setState({\r\n              latitude: \"err-latitude\",\r\n              longitude: \"err-longitude\"\r\n            });\r\n            console.log(\"Cannot find you err..:\", error);\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // toggle loading icon\r\n  toggleSearchCoordinates(currentValue) {\r\n    this.setState({ isLoadingCoordinates: !currentValue });\r\n  }\r\n\r\n  // convert coordinates to address\r\n  reverseGeocode(latitude, longitude) {\r\n    let params = {\r\n      key: process.env.REACT_APP_GOOGLE_MAPS_JS,\r\n      latlng: `${latitude},${longitude}`\r\n    };\r\n\r\n    // do google maps js API query\r\n    return axios\r\n      .get(\r\n        `https://maps.googleapis.com/maps/api/geocode/json?key=${\r\n          params.key\r\n        }&latlng=${params.latlng}`\r\n      )\r\n      .then(response => {\r\n        // get the result into the form so user has a feedbakc\r\n        this.setState({\r\n          addressInputValue: response.data.results[0].formatted_address\r\n        });\r\n\r\n        // TODO method call to add an user marker here\r\n      });\r\n    //end\r\n  }\r\n\r\n  // redirect to map when address found\r\n  goToResult() {\r\n    this.setState({ toMapResults: true });\r\n  }\r\n\r\n  render() {\r\n    // form validation to prevent submission if empty\r\n    // see bootstrap react docs\r\n    const { validated } = this.state;\r\n\r\n    // redirect to map when address found\r\n    if (this.state.toMapResults === true) {\r\n      return <Redirect to=\"/map\" />;\r\n    }\r\n\r\n    return (\r\n      <Form\r\n        noValidate\r\n        validated={validated}\r\n        onSubmit={e => this.handleSubmit(e)}\r\n      >\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => {\r\n                this.getUserLocationBrowser();\r\n              }}\r\n            >\r\n              <i className=\"fas fa-map-marker-alt\" />\r\n            </Button>\r\n          </div>\r\n          <FormControl\r\n            type=\"text\"\r\n            placeholder=\"Où êtes vous?\"\r\n            name=\"addressInputValue\"\r\n            value={this.state.addressInputValue}\r\n            onChange={this.handleChange}\r\n            id=\"autocomplete\"\r\n            ref={this.autocompleteInput}\r\n            required\r\n          />\r\n\r\n          <div className=\"input-group-append\">\r\n            {this.state.isLoadingCoordinates ? (\r\n              <Button variant=\"info\" onClick={this.goToResult}>\r\n                <i className=\"fas fa-circle-notch fa-spin\" />\r\n              </Button>\r\n            ) : (\r\n              <Button type=\"submit\" variant=\"outline-secondary\">\r\n                <i className=\"fas fa-search\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LocationSearchInput;\r\n","import React, { Component } from \"react\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport LocationSearchInput from \"./LocationSearchInput.js\";\r\nimport \"./UserLocalisation.scss\";\r\n\r\nclass UserLocalisation extends Component {\r\n  render() {\r\n    return (\r\n      <section className=\"text-center \">\r\n        <div className=\"bg-directions m-4\" />\r\n        <p className=\"lead my-4\">Trouvez des soins proches de vous.</p>\r\n        <Row>\r\n          <Col\r\n            sm={{ span: 12 }}\r\n            className=\" px-5 d-flex justify-content-center\"\r\n          >\r\n            <Col className=\"bg-light shadow-sm border rounded p-2 col-md-6 col-xs-12\">\r\n              <LocationSearchInput\r\n                onGeolocation={this.props.onGeolocation}\r\n                nextStep={event => this.props.nextStep(event)}\r\n              />\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col sm={{ span: 12 }} className=\"d-flex justify-content-center\">\r\n            {/* prescription checkbox */}\r\n            <Form className=\"p-2 small w-50 mx-auto text-left\">\r\n              <div key=\"hint-checkbox\" className=\"hint-checkbox m-2 px-2\">\r\n                <label>\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    id=\"prescription\"\r\n                    className=\"d-inline mr-2\"\r\n                  />\r\n                  <span className=\"text-muted\">\r\n                    C'est pour renouveller une ordonnance ?{\" \"}\r\n                    <span className=\"text-secondary\">Cliquez ici !</span>\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserLocalisation;\r\n","import React, { Component } from \"react\";\r\n\r\n// content\r\nimport StepWizard from \"react-step-wizard\";\r\nimport PathologyQuestions from \"./PathologyQuestions\";\r\nimport AdultQuestion from \"./AdultQuestion\";\r\nimport QuestionsIndicator from \"./QuestionsIndicator\";\r\nimport UserLocalisation from \"./UserLocalisation.js\";\r\n\r\nclass Questions extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // works, hardcoded to refactor later\r\n      numberOfSteps: 3,\r\n      currentStep: 0\r\n    };\r\n  }\r\n\r\n  updateFormIndicator(numberOfSteps, currentStep) {\r\n    this.setState({\r\n      numberOfSteps,\r\n      currentStep\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { numberOfSteps, currentStep } = this.state;\r\n    return (\r\n      <>\r\n        <section className=\"d-flex justify-content-center\">\r\n          <QuestionsIndicator\r\n            numberOfSteps={numberOfSteps}\r\n            currentStep={currentStep}\r\n          />\r\n        </section>\r\n\r\n        <StepWizard isHashEnabled={true} initialStep={1}>\r\n          <AdultQuestion\r\n            // adding anchor to url\r\n            hashKey={\"age\"}\r\n            // update user search filters and form step counter\r\n            updatePatient={event => this.props.updatePatient(event)}\r\n            onFormStep={(numberOfSteps, currentStep) =>\r\n              this.updateFormIndicator(numberOfSteps, currentStep)\r\n            }\r\n          />\r\n\r\n          <PathologyQuestions\r\n            hashKey={\"service\"}\r\n            updatePatient={event => this.props.updatePatient(event)}\r\n            onFormStep={(numberOfSteps, currentStep) =>\r\n              this.updateFormIndicator(numberOfSteps, currentStep)\r\n            }\r\n          />\r\n\r\n          <UserLocalisation\r\n            hashKey={\"position\"}\r\n            onGeolocation={this.props.onGeolocation}\r\n          />\r\n        </StepWizard>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Questions;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./SignUpPage.css\";\r\nimport { postSignUp } from \"../api.js\";\r\n\r\nclass SignupPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\"\r\n    };\r\n  }\r\n  genericOnChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    postSignUp(this.state).then(response => {\r\n      console.log(\"sign up result\", response.data);\r\n      // use the method sent an a prop by app.js to update current user\r\n      this.props.signupSuccess(response.data);\r\n    });\r\n  }\r\n  render() {\r\n    const { currentUser } = this.props;\r\n\r\n    return (\r\n      <section className=\"SignupPage\">\r\n        {currentUser ? (\r\n          <div>\r\n            <h2>You are signed up !</h2>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h2>Sign Up</h2>\r\n            <form onSubmit={event => this.handleSubmit(event)}>\r\n              <label>\r\n                Email :{\" \"}\r\n                <input\r\n                  onChange={event => {\r\n                    this.genericOnChange(event);\r\n                  }}\r\n                  value={this.state.email}\r\n                  type=\"email\"\r\n                  name=\"username\"\r\n                  placeholder=\"Mon Email\"\r\n                />\r\n              </label>\r\n\r\n              <label>\r\n                Mot de passe :{\" \"}\r\n                <input\r\n                  onChange={event => {\r\n                    this.genericOnChange(event);\r\n                  }}\r\n                  value={this.state.password}\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Mot de passe\"\r\n                />\r\n              </label>\r\n\r\n              <button>M'enregistrer</button>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignupPage;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport \"./LoginPage.css\";\r\nimport { postLogin } from \"../api\";\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\"\r\n    };\r\n  }\r\n  genericOnChange(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n  handleSubmit(event) {\r\n    //submit login info to the backend\r\n    event.preventDefault();\r\n    postLogin(this.state).then(response => {\r\n      console.log(\"log in\", response.data);\r\n      // use the method sent an a prop by app.js to update current user\r\n      this.props.loginSuccess(response.data);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.props.currentUser ? (\r\n      <Redirect to=\"/form\" />\r\n    ) : (\r\n      <section className=\"LoginPage\">\r\n        <h2>Log In</h2>\r\n        <form onSubmit={event => this.handleSubmit(event)}>\r\n          <label>\r\n            Email:{\" \"}\r\n            <input\r\n              onChange={event => this.genericOnChange(event)}\r\n              value={this.state.email}\r\n              name=\"username\"\r\n              type=\"email\"\r\n              placeholder=\"Mon Email\"\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            Mot de Passe:{\" \"}\r\n            <input\r\n              onChange={event => {\r\n                this.genericOnChange(event);\r\n              }}\r\n              value={this.state.password}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Mot de passe\"\r\n            />\r\n          </label>\r\n          <button>Se connecter</button>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport {geolocated} from 'react-geolocated';\r\n\r\nclass Demo extends React.Component {\r\n  render() {\r\n    return !this.props.isGeolocationAvailable\r\n      ? <div>Your browser does not support Geolocation</div>\r\n      : !this.props.isGeolocationEnabled\r\n        ? <div>Geolocation is not enabled</div>\r\n        : this.props.coords\r\n          ? <table>\r\n            <tbody>\r\n              <tr><td>latitude</td><td>{this.props.coords.latitude}</td></tr>\r\n              <tr><td>longitude</td><td>{this.props.coords.longitude}</td></tr>\r\n              <tr><td>altitude</td><td>{this.props.coords.altitude}</td></tr>\r\n              <tr><td>heading</td><td>{this.props.coords.heading}</td></tr>\r\n              <tr><td>speed</td><td>{this.props.coords.speed}</td></tr>\r\n            </tbody>\r\n          </table>\r\n          : <div>Getting the location data&hellip; </div>;\r\n  }\r\n}\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: false,\r\n  },\r\n  userDecisionTimeout: 5000,\r\n})(Demo);\r\n","//Main\r\nimport React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n//Components\r\nimport Navigation from \"./components/Navigation.js\";\r\nimport IsEmergency from \"./components/IsEmergency.js\";\r\nimport MapWrapper from \"./components/MapWrapper.js\";\r\nimport NotFound from \"./components/NotFound.js\";\r\n//Styling\r\nimport \"./App.scss\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport Questions from \"./components/Questions.js\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport SignupPage from \"./components/SignUpPage.js\";\r\nimport LoginPage from \"./components/LoginPage.js\";\r\nimport GeolocationPoint from \"./components/GeolocationCoodinates.js\";\r\nimport { getLogout } from \"./api\";\r\n\r\nrequire(\"dotenv\").config();\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let userInfo = localStorage.getItem(\"currentUser\");\r\n    if (userInfo) {\r\n      // turns the string back into an object if we are logged in\r\n      userInfo = JSON.parse(userInfo);\r\n    }\r\n    this.state = {\r\n      currentUser: userInfo,\r\n\r\n      patientGender: \"\",\r\n      neededSpecialist: \"\",\r\n      patientAdult: \"\",\r\n      beforeChildren: true,\r\n      patientLocation: { latitude: 0, longitude: 0 }\r\n    };\r\n  }\r\n\r\n  updateUser(newUser) {\r\n    if (newUser) {\r\n      // save the user info in local storage if we are logging IN\r\n      // turn it into a json string before we save\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\r\n    } else {\r\n      // delete this info when we are loging out\r\n      localStorage.removeItem(\"currentUser\");\r\n    }\r\n    this.setState({ currentUser: newUser });\r\n  }\r\n\r\n  updatePatient(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  updatePatientPosition(latitude, longitude) {\r\n    this.setState({\r\n      patientLocation: { latitude, longitude }\r\n    });\r\n  }\r\n\r\n  logoutClick() {\r\n    getLogout()\r\n      .then(response => {\r\n        // console.log(\"Log Out\", response.data);\r\n        // set the currentUser state to empty\r\n        this.updateUser(null);\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  render() {\r\n    const { neededSpecialist, patientAdult, patientLocation } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <header>\r\n          <Navigation\r\n            currentUser={this.state.currentUser}\r\n            logoutClick={() => this.logoutClick()}\r\n          />\r\n        </header>\r\n\r\n        <Switch>\r\n          <Route path=\"/\" exact component={IsEmergency} key=\"isEmergency\" />\r\n          <Route\r\n            key=\"3\"\r\n            path=\"/map\"\r\n            render={() => {\r\n              return (\r\n                <MapWrapper\r\n                  neededSpecialist={neededSpecialist}\r\n                  patientType={patientAdult}\r\n                  userLocation={patientLocation}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route key=\"geoloc\" path=\"/geoloc\" component={GeolocationPoint} />\r\n          <Route\r\n            key=\"form\"\r\n            path=\"/form\"\r\n            render={() => {\r\n              return (\r\n                <Questions\r\n                  updatePatient={event => this.updatePatient(event)}\r\n                  onGeolocation={(latitude, longitude) =>\r\n                    this.updatePatientPosition(latitude, longitude)\r\n                  }\r\n                />\r\n              );\r\n            }}\r\n          />\r\n\r\n          <Route\r\n            key=\"signup\"\r\n            path=\"/signup\"\r\n            render={() => {\r\n              return (\r\n                <SignupPage\r\n                  currentUser={this.state.currentUser}\r\n                  signupSuccess={user => this.updateUser(user)}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            key=\"login\"\r\n            path=\"/login\"\r\n            render={() => {\r\n              return (\r\n                <LoginPage\r\n                  currentUser={this.state.currentUser}\r\n                  loginSuccess={user => this.updateUser(user)}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n\r\n          <Route component={NotFound} key=\"NotFound\" />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"./index.scss\";\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}